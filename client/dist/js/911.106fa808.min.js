"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[911],{13506:(e,t,l)=>{l.d(t,{T:()=>i});var a=l(63696),n=l(77635),r=l(33364);const i=({isOpen:e,title:t,titleIconVariant:l,message:i,confirmBtnLabel:o,cancelBtnLabel:s,inProgress:c,confirmBtnVariant:m,onClose:u,onConfirm:d,onCancel:p})=>{const E=a.createElement(n.$n,{id:"confirm-dialog-button",key:"confirm","aria-label":"confirm",variant:m,isDisabled:c,onClick:d},o),y=p?a.createElement(n.$n,{key:"cancel",id:"confirm-cancel-button","aria-label":"cancel",variant:n.Ak.link,isDisabled:c,onClick:p},s):void 0;return a.createElement(r.a,{id:"confirm-dialog",variant:r.d.small,title:t,titleIconVariant:l,isOpen:e,onClose:u,"aria-label":"Confirm dialog",actions:p?[E,y]:[E]},i)}},23713:(e,t,l)=>{l.d(t,{m:()=>i});var a=l(77347),n=l(40752),r=l(22249);const i=()=>({downloadAdvisory:(e,t)=>{(0,n.Mu)({client:a.S,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then((l=>{(0,r.saveAs)(new Blob([l.data]),t||`${e}.json`)}))},downloadSBOM:(e,t)=>{(0,n.K0)({client:a.S,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then((l=>{(0,r.saveAs)(new Blob([l.data]),t||`${e}.json`)}))}})},30426:(e,t,l)=>{l.d(t,{Y:()=>m,a:()=>u});var a=l(63696),n=l(33273),r=l(86820),i=l(70611),o=l(5098),s=l(17993),c=l(34066);const m=a.createContext({}),u=({children:e})=>{const t=(0,i.MM)({tableName:"packages",persistenceKeyPrefix:r.rt.packages,columnNames:{name:"Name",version:"Version",type:"Type",vulnerabilities:"Vulnerabilities",sboms:"SBOMs"},isPaginationEnabled:!0,isSortEnabled:!0,sortableColumns:[],isFilterEnabled:!0,filterCategories:[{categoryKey:"",title:"Filter text",placeholderText:"Search",type:n.RJ.search},{categoryKey:"type",title:"Type",placeholderText:"Type",type:n.RJ.multiselect,selectOptions:[{value:"maven",label:"Maven"},{value:"rpm",label:"RPM"},{value:"npm",label:"NPM"}]}],isExpansionEnabled:!1}),{result:{data:l,total:u},isFetching:d,fetchError:p}=(0,s.Lx)((0,i.Ng)({...t,hubSortFieldKeys:{}})),E=a.useMemo((()=>l.map((e=>({...e,decomposedPurl:(0,c.fe)(e.purl)})))),[l]),y=(0,i.PB)({...t,idProperty:"uuid",currentPageItems:E,totalItemCount:u,isLoading:d,selectionState:(0,o.$)({items:E,isEqual:(e,t)=>e.uuid===t.uuid})});return a.createElement(m.Provider,{value:{totalItemCount:u,isFetching:d,fetchError:p,tableControls:y}},e)}},92730:(e,t,l)=>{l.d(t,{N:()=>b});var a=l(63696),n=l(49348),r=l(85578),i=l(16646),o=l(31065),s=l(77819),c=l(28516),m=l(3629),u=l(91728);const d=({packageId:e})=>{const{result:{total:t}}=(0,u.Qr)(e,{page:{pageNumber:1,itemsPerPage:1}});return a.createElement(a.Fragment,null,t)};var p=l(1349),E=l(62520),y=l(30426);const b=()=>{const{isFetching:e,fetchError:t,totalItemCount:l,tableControls:u}=a.useContext(y.Y),{numRenderedColumns:b,currentPageItems:g,propHelpers:{paginationProps:h,tableProps:f,getThProps:C,getTrProps:v,getTdProps:P},expansionDerivedState:{isCellExpanded:T}}=u;return a.createElement(a.Fragment,null,a.createElement(r.X,{...f,"aria-label":"Package table"},a.createElement(i.d,null,a.createElement(o.Tr,null,a.createElement(E.Ze,{...u},a.createElement(s.Th,{...C({columnKey:"name"})}),a.createElement(s.Th,{...C({columnKey:"version"})}),a.createElement(s.Th,{...C({columnKey:"type"})}),a.createElement(s.Th,{...C({columnKey:"vulnerabilities"})}),a.createElement(s.Th,{...C({columnKey:"sboms"})})))),a.createElement(E.nJ,{isLoading:e,isError:!!t,isNoData:0===l,numRenderedColumns:b},g.map(((e,t)=>a.createElement(c.N,{key:e.uuid},a.createElement(o.Tr,{...v({item:e})},a.createElement(E.Oi,{...u,item:e,rowIndex:t},a.createElement(m.Td,{width:40,...P({columnKey:"name"})},a.createElement(n.k2,{to:`/packages/${encodeURIComponent(e.uuid)}`},e.decomposedPurl?e.decomposedPurl?.name:e.purl)),a.createElement(m.Td,{width:20,modifier:"truncate",...P({columnKey:"version"})},e.decomposedPurl?.version),a.createElement(m.Td,{width:10,modifier:"truncate",...P({columnKey:"type"})},e.decomposedPurl?.type),a.createElement(m.Td,{width:15,...P({columnKey:"vulnerabilities"})}),a.createElement(m.Td,{width:15,...P({columnKey:"sboms"})},a.createElement(d,{packageId:e.uuid}))))))))),a.createElement(p.n,{idPrefix:"package-table",isTop:!1,isCompact:!0,paginationProps:h}))}},36390:(e,t,l)=>{l.d(t,{L:()=>c,c:()=>m});var a=l(63696),n=l(33273),r=l(86820),i=l(70611),o=l(5098),s=l(91728);const c=a.createContext({}),m=({children:e})=>{const t=(0,i.MM)({tableName:"sbom",persistenceKeyPrefix:r.rt.sboms,columnNames:{name:"Name",version:"Version",supplier:"Supplier",published:"Published",packages:"Packages",vulnerabilities:"Vulnerabilities"},isPaginationEnabled:!0,isSortEnabled:!0,sortableColumns:["published"],isFilterEnabled:!0,filterCategories:[{categoryKey:"",title:"Filter text",placeholderText:"Search",type:n.RJ.search}],isExpansionEnabled:!1}),{result:{data:l,total:m},isFetching:u,fetchError:d}=(0,s.i$)((0,i.Ng)({...t,hubSortFieldKeys:{published:"published"}})),p=(0,i.PB)({...t,idProperty:"id",currentPageItems:l,totalItemCount:m,isLoading:u,selectionState:(0,o.$)({items:l,isEqual:(e,t)=>e.id===t.id})});return a.createElement(c.Provider,{value:{totalItemCount:m,isFetching:u,fetchError:d,tableControls:p}},e)}},72112:(e,t,l)=>{l.d(t,{Y:()=>T});var a=l(63696),n=l(49348),r=l(77635),i=l(85578),o=l(16646),s=l(31065),c=l(77819),m=l(28516),u=l(3629),d=l(62101),p=l(50705),E=l(17993);const y=({sbomId:e})=>{const{result:{total:t}}=(0,E.sl)(e,{page:{pageNumber:1,itemsPerPage:1}});return a.createElement(a.Fragment,null,t)};var b=l(1349),g=l(62520),h=l(23713),f=l(91728),C=l(34066),v=l(13506),P=l(36390);const T=({})=>{const{isFetching:e,fetchError:t,totalItemCount:l,tableControls:E}=a.useContext(P.L),{pushNotification:T}=a.useContext(p.K),[k,K]=a.useState(null),[S,x]=a.useState(null),{mutate:F}=(0,f.l6)((e=>{T({title:`The SBOM ${e.name} was deleted`,variant:"success"})}),(e=>{T({title:"Error occurred while deleting the SBOM",variant:"danger"})})),{numRenderedColumns:w,currentPageItems:V,propHelpers:{paginationProps:I,tableProps:O,getThProps:R,getTrProps:D,getTdProps:M},expansionDerivedState:{isCellExpanded:B}}=E,{downloadSBOM:N}=(0,h.m)();return a.createElement(a.Fragment,null,a.createElement(i.X,{...O,"aria-label":"sbom-table"},a.createElement(o.d,null,a.createElement(s.Tr,null,a.createElement(g.Ze,{...E},a.createElement(c.Th,{...R({columnKey:"name"})}),a.createElement(c.Th,{...R({columnKey:"version"})}),a.createElement(c.Th,{...R({columnKey:"supplier"})}),a.createElement(c.Th,{...R({columnKey:"published"})}),a.createElement(c.Th,{...R({columnKey:"packages"})}),a.createElement(c.Th,{...R({columnKey:"vulnerabilities"})})))),a.createElement(g.nJ,{isLoading:e,isError:!!t,isNoData:0===l,numRenderedColumns:w},V.map(((e,t)=>a.createElement(m.N,{key:e.id,isExpanded:B(e)},a.createElement(s.Tr,{...D({item:e})},a.createElement(g.Oi,{...E,item:e,rowIndex:t},a.createElement(u.Td,{width:30,...M({columnKey:"name",isCompoundExpandToggle:!0,item:e,rowIndex:t})},a.createElement(n.k2,{to:`/sboms/${e.id}`},e.name)),a.createElement(u.Td,{width:15,modifier:"truncate",...M({columnKey:"version"})},e.described_by.map((e=>e.version)).filter((e=>e)).join(", ")),a.createElement(u.Td,{width:20,modifier:"truncate",...M({columnKey:"supplier"})},e.authors.join(", ")),a.createElement(u.Td,{width:10,...M({columnKey:"published"})},(0,C.Yq)(e.published)),a.createElement(u.Td,{width:10,...M({columnKey:"packages"})},a.createElement(y,{sbomId:e.id})),a.createElement(u.Td,{width:15,...M({columnKey:"vulnerabilities"})}),a.createElement(u.Td,{isActionCell:!0},a.createElement(d.G,{items:[{title:"Download",onClick:()=>{N(e.id,`${e.name}.json`)}},{title:"Delete",onClick:()=>{return t=e,K("delete"),void x(t);var t}}]}))))))))),a.createElement(b.n,{idPrefix:"sbom-table",isTop:!1,isCompact:!0,paginationProps:I}),a.createElement(v.T,{title:`Delete ${S?.name}`,titleIconVariant:"warning",isOpen:"delete"===k,message:"Are you sure you want to delete this SBOM? This action cannot be undone.","aria-label":"Delete SBOM",confirmBtnVariant:r.Ak.danger,confirmBtnLabel:"Delete",cancelBtnLabel:"Cancel",onCancel:()=>K(null),onClose:()=>K(null),onConfirm:()=>{S&&F(S.id),K(null)}}))}},68067:(e,t,l)=>{l.r(t),l.d(t,{default:()=>H});var a=l(63696),n=l(23665),r=l(68430),i=l(20653),o=l(35048),s=l(56918),c=l(1180),m=l(72785),u=l(4433),d=l(65991),p=l(76072),E=l(97299),y=l(17327),b=l(71603),g=l(87294),h=l(71592),f=l(40111),C=l(79893),v=l(70414),P=l(8210),T=l(64361),k=l(33273),K=l(58897),S=l(23857),x=l(77635),F=l(51463);const w=({category:e,filterValue:t,setFilterValue:l,isNumeric:n,isDisabled:r=!1})=>{const[i,o]=a.useState(t?.[0]||"");a.useEffect((()=>{o(t?.[0]||"")}),[t]);const s=()=>{const e=i.trim();l(e?[e.replace(/\s+/g," ")]:[])},c=`${e.categoryKey}-input`;return a.createElement(K.M,null,a.createElement(S.ks,{name:c,id:"search-input",type:n?"number":"search",onChange:(e,t)=>o(t),"aria-label":`${e.title} filter`,value:i,placeholder:e.placeholderText,onKeyDown:e=>{e.key&&"Enter"!==e.key||s()},isDisabled:r}),a.createElement(x.$n,{variant:x.Ak.control,id:"search-button","aria-label":"search button for search input",onClick:s,isDisabled:r},a.createElement(F.Ay,null)))};var V=l(11493);const I=({category:e,filterValue:t,setFilterValue:l,isDisabled:n=!1})=>a.createElement(a.Fragment,null,e.selectOptions.map((({label:r,value:i,optionProps:o={}},s)=>{const c=t?.includes(i)||!1;return a.createElement(V.s,{isDisabled:n,key:s,id:`radio-${s}`,name:"radio",isLabelWrapped:!0,label:r,isChecked:c,onChange:()=>{(t=>{const a=(n=t,e.selectOptions.find((({value:e})=>e===n)));var n;l(a?[t]:null)})(i)}})})));var O=l(58365);const R=({category:e,filterValue:t,setFilterValue:l,isDisabled:n=!1})=>{const[r,i]=a.useState(Array.isArray(e.selectOptions)?e.selectOptions:[]);a.useEffect((()=>{i(Array.isArray(e.selectOptions)?e.selectOptions:[])}),[e.selectOptions]);const o=Array.isArray(r)?r:Object.values(r).flatMap((e=>e));return a.createElement(a.Fragment,null,o.map((({label:e,value:n,optionProps:r={}},i)=>a.createElement(O.S,{key:i,id:`checkbox-${i}`,isLabelWrapped:!0,label:e,isChecked:t?.includes(n),onChange:()=>{(e=>{if(e&&"No results"!==e){let a;a=t&&t.includes(e)?t.filter((t=>t!==e)):t?[...t,e]:[e],l(a)}})(n)}}))))},D=({category:e,...t})=>e.type===k.RJ.select?a.createElement(I,{category:e,...t}):e.type===k.RJ.search||e.type===k.RJ.numsearch?a.createElement(w,{category:e,isNumeric:e.type===k.RJ.numsearch,...t}):e.type===k.RJ.multiselect?a.createElement(R,{category:e,...t}):null,M=({filterCategories:e,filterValues:t,setFilterValues:l,isDisabled:n=!1,ommitFilterCategoryKeys:r=[]})=>a.createElement(a.Fragment,null,e.filter((e=>void 0===r.find((t=>t===e.categoryKey)))).map((e=>a.createElement(y.Z,{key:e.categoryKey,isPlain:!0},a.createElement(T.Z,null,e.title),a.createElement(b.b,null,a.createElement(D,{category:e,filterValue:t[e.categoryKey],setFilterValue:a=>((e,a)=>l({...t,[e.categoryKey]:a}))(e,a),isDisabled:n,isSidebar:!0}))))));var B=l(30426),N=l(36390),A=l(14310);function L(e,t){return{Component:e,props:t}}const $=[L(N.c,{}),L(B.a,{}),L(A.y,{})],q=(J=$,({children:e})=>{const t=a.createElement(a.Fragment,null,e);return J.reduceRight(((e,{Component:t,props:l={}})=>a.createElement(t,{...l},e)),t)});var J,Y=l(92730),_=l(72112),j=l(1159);const H=()=>a.createElement(q,null,a.createElement(Z,null)),Z=()=>{const{tableControls:e}=a.useContext(N.L),{tableControls:t}=a.useContext(B.Y),{tableControls:l}=a.useContext(A.u),{totalItemCount:T,tableControls:{propHelpers:{filterPanelProps:k}}}=a.useContext(N.L),{totalItemCount:K,tableControls:{propHelpers:{filterPanelProps:S}}}=a.useContext(B.Y),{totalItemCount:x,tableControls:{propHelpers:{filterPanelProps:F}}}=a.useContext(A.u),[w,V]=a.useState(""),[I,O]=a.useState(0),R=a.createRef();return a.createElement(a.Fragment,null,a.createElement(r.d8,{variant:r.zC.light},a.createElement(i.M,{isStatic:!0},a.createElement(o.P,null,a.createElement(s.$,{align:{default:"alignLeft"}},a.createElement(c.n,null,a.createElement(m.E,{component:"h1"},"Search"))),a.createElement(s.$,{variant:"icon-button-group",align:{default:"alignRight"}},a.createElement(s.$,{visibility:{default:"hidden",lg:"visible"}},a.createElement(u.T,{widths:{default:"500px"}},a.createElement(d.D,{placeholder:"Search for an SBOM, Package, or Vulnerability",value:w,onChange:(e,t)=>(e=>{V(e)})(t),onClear:()=>{V("")},onKeyDown:a=>{a.key&&"Enter"!==a.key||(e.filterState.setFilterValues({...e.filterState.filterValues,"":[w]}),t.filterState.setFilterValues({...t.filterState.filterValues,"":[w]}),l.filterState.setFilterValues({...l.filterState.filterValues,"":[w]}))}}))))))),a.createElement(r.d8,null,a.createElement(p.x,{hasGutter:!0},a.createElement(E.E,{md:2},a.createElement(y.Z,{isFullHeight:!0},a.createElement(b.b,null,0===I?a.createElement(M,{ommitFilterCategoryKeys:[""],...k}):1===I?a.createElement(M,{ommitFilterCategoryKeys:[""],...S}):2===I?a.createElement(M,{ommitFilterCategoryKeys:[""],...F}):null))),a.createElement(E.E,{md:10},a.createElement(y.Z,null,a.createElement(b.b,null,a.createElement(g.t,{activeKey:I,onSelect:(e,t)=>{O(t)},"aria-label":"Tabs",role:"region"},a.createElement(h.o,{eventKey:0,title:a.createElement(f.V,null,"SBOMs","  ",a.createElement(C.E,{screenReaderText:"Search Result Count"},T)),actions:a.createElement(a.Fragment,null,a.createElement(v.o,{"aria-label":"SBOM help popover",ref:R},a.createElement(P.Ay,null)),(D=R,a.createElement(n.A,{bodyContent:a.createElement("div",null,"Software Bill of Materials for Products and Containers."),position:"right",triggerRef:D})))},a.createElement(_.Y,null)),a.createElement(h.o,{eventKey:1,title:a.createElement(f.V,null,"Packages","  ",a.createElement(C.E,{screenReaderText:"Search Result Count"},K))},a.createElement(Y.N,null)),a.createElement(h.o,{eventKey:2,title:a.createElement(f.V,null,"Vulnerabilities","  ",a.createElement(C.E,{screenReaderText:"Search Result Count"},x))},a.createElement(j.fk,null)))))))));var D}},17993:(e,t,l)=>{l.d(t,{Lx:()=>s,Si:()=>c,sl:()=>m});var a=l(7616),n=l(77347),r=l(40752),i=l(70611);const o="packages",s=(e={},t=!1)=>{const{data:l,isLoading:s,error:c,refetch:m}=(0,a.I)({queryKey:[o,e],queryFn:()=>(0,r.UD)({client:n.S,query:{...(0,i.kd)(e)}}),refetchInterval:!t&&5e3});return{result:{data:l?.data?.items||[],total:l?.data?.total??0,params:e},isFetching:s,fetchError:c,refetch:m}},c=e=>{const{data:t,isLoading:l,error:i}=(0,a.I)({queryKey:[o,e],queryFn:()=>(0,r.Y0)({client:n.S,path:{key:e}})});return{pkg:t?.data,isFetching:l,fetchError:i}},m=(e,t={})=>{const{data:l,isLoading:s,error:c,refetch:m}=(0,a.I)({queryKey:[o,"by-sbom",e,t],queryFn:()=>(0,r.Ad)({client:n.S,path:{id:e},query:{...(0,i.kd)(t)}})});return{result:{data:l?.data?.items||[],total:l?.data?.total??0,params:t},isFetching:s,fetchError:c,refetch:m}}}}]);
//# sourceMappingURL=911.106fa808.min.js.map