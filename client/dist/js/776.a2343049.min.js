"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[776],{55399:(e,a,t)=>{t.d(a,{K:()=>c,S:()=>d});var r=t(44304),n=t(19174),l=t(53820),o=t(8742),s=t(53359);const c={none:{name:"None",color:r.p,progressProps:{variant:void 0}},low:{name:"Low",color:n.n,progressProps:{variant:void 0}},medium:{name:"Medium",color:l.H,progressProps:{variant:"warning"}},high:{name:"High",color:o.u,progressProps:{variant:"danger"}},critical:{name:"Critical",color:s.c,progressProps:{variant:"danger"}}},i=e=>{switch(e){case"low":return 1;case"medium":return 2;case"high":return 3;case"critical":return 4;default:return 0}};function d(e){return(a,t)=>i(e(a))-i(e(t))}},81230:(e,a,t)=>{t.d(a,{J4:()=>d,hP:()=>i});var r=t(64917),n=t(86820);t(63260);const l="/api",o=l+"/v1/advisory",s=l+"/v1/sbom",c=e=>{let a="application/json";return(e.name.endsWith(".bz2")||e.name.endsWith(".gz"))&&(a="application/json+bzip2"),a},i=(e,a)=>{const t=e.get(n.fs);return r.A.post(`${o}`,t,{...a,headers:{"Content-Type":c(t)}})},d=(e,a)=>{const t=e.get(n.fs);return r.A.post(`${s}`,t,{...a,headers:{"Content-Type":c(t)}})}},24417:(e,a,t)=>{t.d(a,{a:()=>s});var r=t(63696),n=t(59394),l=t(23338),o=t(75855);const s=e=>e.isFetching?r.createElement(n.a,null,r.createElement(l.y,null)):e.fetchError?r.createElement(o.q,null):e.children},16177:(e,a,t)=>{t.d(a,{a:()=>l});var r=t(63696),n=t(891);const l=({value:e})=>r.createElement(r.Fragment,null,Object.entries(e).map((([e,a],t)=>r.createElement(n.J,{key:t,isCompact:!0},`${e}=${a}`))))},52302:(e,a,t)=>{t.d(a,{h:()=>i});var r=t(63696),n=t(28338),l=t(70045),o=t(85310),s=t(93914),c=t(55399);const i=({value:e,hideLabel:a})=>{const t=c.K[e],i=e.charAt(0).toUpperCase()+e.slice(1);return r.createElement(n.s,{spaceItems:{default:"spaceItemsXs"},alignItems:{default:"alignItemsCenter"},flexWrap:{default:"nowrap"},style:{whiteSpace:"nowrap"}},r.createElement(l.Z,null,a?r.createElement(o.m,{content:i},r.createElement(s.Ay,{color:t.color.value})):r.createElement(s.Ay,{color:t.color.value})),!a&&r.createElement(l.Z,null,i))}},1349:(e,a,t)=>{t.d(a,{n:()=>l});var r=t(63696),n=t(88098);const l=({paginationProps:e,isTop:a,isCompact:t=!1,noMargin:l=!1,idPrefix:o=""})=>r.createElement(n.d,{id:`${o?`${o}-`:""}pagination-${a?"top":"bottom"}`,variant:a?n.A.top:n.A.bottom,isCompact:t,...e,widgetId:"pagination-id"})},75855:(e,a,t)=>{t.d(a,{q:()=>d});var r=t(63696),n=t(63863),l=t(97157),o=t(28341),s=t(92411),c=t(60087),i=t(45960);const d=()=>r.createElement(n.p,{variant:n.s.sm},r.createElement(l.q,{icon:c.Ay,color:i.D.value}),r.createElement(o.h,{headingLevel:"h2",size:"lg"},"Unable to connect"),r.createElement(s.h,null,"There was an error retrieving data. Check your connection and try again."))},62520:(e,a,t)=>{t.d(a,{nJ:()=>E,Ze:()=>v,Oi:()=>w});var r=t(63696),n=t(59394),l=t(23338),o=t(28516),s=t(31065),c=t(3629),i=t(75855),d=t(63863),p=t(97157),u=t(28341),m=t(92411),h=t(28469);const y=({title:e,description:a})=>r.createElement(d.p,{variant:d.s.sm},r.createElement(p.q,{icon:h.Ay}),r.createElement(u.h,{headingLevel:"h2",size:"lg"},e),a&&r.createElement(m.h,null,a)),g=()=>r.createElement(y,{title:"No data available",description:"No data available to be shown here."}),E=({numRenderedColumns:e,isLoading:a=!1,isError:t=!1,isNoData:d=!1,errorEmptyState:p=null,noDataEmptyState:u=null,children:m})=>r.createElement(r.Fragment,null,a?r.createElement(o.N,null,r.createElement(s.Tr,null,r.createElement(c.Td,{colSpan:e},r.createElement(n.a,null,r.createElement(l.y,{size:"xl"}))))):t?r.createElement(o.N,{"aria-label":"Table error"},r.createElement(s.Tr,null,r.createElement(c.Td,{colSpan:e},r.createElement(n.a,null,p||r.createElement(i.q,null))))):d?r.createElement(o.N,{"aria-label":"Table error"},r.createElement(s.Tr,null,r.createElement(c.Td,{colSpan:e},r.createElement(n.a,null,u||r.createElement(g,null))))):m);var f=t(77819);const v=({numColumnsBeforeData:e,numColumnsAfterData:a,children:t})=>r.createElement(r.Fragment,null,Array(e).fill(null).map(((e,a)=>r.createElement(f.Th,{screenReaderText:`before-data-${a}`,key:a}))),t,Array(a).fill(null).map(((e,a)=>r.createElement(f.Th,{screenReaderText:`after-data-${a}`,key:a})))),w=({isExpansionEnabled:e=!1,expandableVariant:a,isSelectionEnabled:t=!1,propHelpers:{getSingleExpandButtonTdProps:n,getSelectCheckboxTdProps:l},item:o,rowIndex:s,children:i})=>r.createElement(r.Fragment,null,e&&"single"===a?r.createElement(c.Td,{...n({item:o,rowIndex:s})}):null,t?r.createElement(c.Td,{...l({item:o,rowIndex:s})}):null,i)},24808:(e,a,t)=>{t.d(a,{v:()=>c});var r=t(63696),n=t(64917),l=t(86820);const o="cancelled",s=(e,a)=>{switch(a.type){case"queueUpload":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file)||{progress:0,status:"queued",error:void 0,response:void 0,wasCancelled:!1,cancelFn:void 0},status:"queued",cancelFn:a.payload.cancelFn})};case"updateUploadProgress":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file)||{progress:0,status:"queued",error:void 0,response:void 0,wasCancelled:!1,cancelFn:void 0},progress:a.payload.progress||0,status:"inProgress"})};case"finishUploadSuccessfully":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file),status:"complete",response:a.payload.response})};case"finishUploadWithError":return{...e,uploads:new Map(e.uploads).set(a.payload.file,{...e.uploads.get(a.payload.file),status:"complete",error:a.payload.error,wasCancelled:a.payload.error?.message===o})};case"removeUpload":{const t=new Map(e.uploads);return t.delete(a.payload.file),{...e,uploads:t}}default:throw new Error}},c=({parallel:e,uploadFn:a,onSuccess:t,onError:c})=>{const[i,d]=r.useReducer(s,{uploads:new Map});return{uploads:i.uploads,handleUpload:r=>{const s=[];for(let e=0;e<r.length;e++){const a=r[e],i=new FormData;i.set(l.fs,a);const p=n.A.CancelToken.source(),u={headers:{"X-Requested-With":"XMLHttpRequest"},onUploadProgress:e=>{const t=e.total??1,r=e.loaded/t*100;d({type:"updateUploadProgress",payload:{file:a,progress:Math.round(r)}})},cancelToken:p.token};d({type:"queueUpload",payload:{file:a,cancelFn:p}});const m={formData:i,config:u,thenFn:e=>{d({type:"finishUploadSuccessfully",payload:{file:a,response:e}}),t&&t(e,a)},catchFn:e=>{d({type:"finishUploadWithError",payload:{file:a,error:e}}),e.message!==o&&c&&c(e,a)}};s.push(m)}e?s.forEach((e=>{a(e.formData,e.config).then(e.thenFn).catch(e.catchFn)})):s.reduce((async(e,t)=>(await e,a(t.formData,t.config).then(t.thenFn).catch(t.catchFn))),Promise.resolve())},handleCancelUpload:e=>{i.uploads.get(e)?.cancelFn?.cancel(o)},handleRemoveUpload:e=>{d({type:"removeUpload",payload:{file:e}})}}}},91728:(e,a,t)=>{t.d(a,{DH:()=>E,Qr:()=>g,i$:()=>u,l6:()=>h,rj:()=>m,sn:()=>y});var r=t(7616),n=t(3715),l=t(26667),o=t(77347),s=t(40752),c=t(24808),i=t(81230),d=t(70611);const p="sboms",u=(e={},a=!1)=>{const{data:t,isLoading:n,error:l,refetch:c}=(0,r.I)({queryKey:[p,e],queryFn:()=>(0,s.z1)({client:o.S,query:{...(0,d.kd)(e)}}),refetchInterval:!a&&5e3});return{result:{data:t?.data?.items||[],total:t?.data?.total??0,params:e??e},isFetching:n,fetchError:l,refetch:c}},m=e=>{const{data:a,isLoading:t,error:n}=(0,r.I)({queryKey:[p,e],queryFn:()=>(0,s.a7)({client:o.S,path:{id:e}}),enabled:void 0!==e});return{sbom:a?.data,isFetching:t,fetchError:n}},h=(e,a)=>{const t=(0,n.jE)();return(0,l.n)({mutationFn:async e=>(await(0,s.bS)({client:o.S,path:{id:e}})).data,onSuccess:(a,r)=>{e(a,r),t.invalidateQueries({queryKey:[p]})},onError:a})},y=()=>{const e=(0,n.jE)();return(0,c.v)({parallel:!0,uploadFn:(e,a)=>(0,i.J4)(e,a),onSuccess:()=>{e.invalidateQueries({queryKey:[p]})}})},g=(e,a={})=>{const{data:t,isLoading:n,error:l,refetch:c}=(0,r.I)({queryKey:[p,"by-package",e,a],queryFn:()=>(0,s.m9)({client:o.S,query:{id:e,...(0,d.kd)(a)}})});return{result:{data:t?.data?.items||[],total:t?.data?.total??0,params:a??a},isFetching:n,fetchError:l,refetch:c}},E=e=>{const{data:a,isLoading:t,error:n}=(0,r.I)({queryKey:[p,e,"advisory"],queryFn:()=>(0,s.bj)({client:o.S,path:{id:e}})});return{advisories:a?.data||[],isFetching:t,fetchError:n}}},15311:(e,a,t)=>{t.d(a,{f:()=>l});var r=t(63696),n=t(86820);const l=(e,a)=>(0,r.useMemo)((()=>e&&0!==e.length?e.map((e=>({...e,[n.FA]:a(e)}))):[]),[e,a])}}]);
//# sourceMappingURL=776.a2343049.min.js.map