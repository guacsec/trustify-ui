"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[900],{13506:(e,t,r)=>{r.d(t,{T:()=>i});var n=r(63696),a=r(77635),l=r(33364);const i=({isOpen:e,title:t,titleIconVariant:r,message:i,confirmBtnLabel:o,cancelBtnLabel:s,inProgress:c,confirmBtnVariant:m,onClose:u,onConfirm:d,onCancel:p})=>{const E=n.createElement(a.$n,{id:"confirm-dialog-button",key:"confirm","aria-label":"confirm",variant:m,isDisabled:c,onClick:d},o),b=p?n.createElement(a.$n,{key:"cancel",id:"confirm-cancel-button","aria-label":"cancel",variant:a.Ak.link,isDisabled:c,onClick:p},s):void 0;return n.createElement(l.a,{id:"confirm-dialog",variant:l.d.small,title:t,titleIconVariant:r,isOpen:e,onClose:u,"aria-label":"Confirm dialog",actions:p?[E,b]:[E]},i)}},1349:(e,t,r)=>{r.d(t,{n:()=>l});var n=r(63696),a=r(88098);const l=({paginationProps:e,isTop:t,isCompact:r=!1,noMargin:l=!1,idPrefix:i=""})=>n.createElement(a.d,{id:`${i?`${i}-`:""}pagination-${t?"top":"bottom"}`,variant:t?a.A.top:a.A.bottom,isCompact:r,...e,widgetId:"pagination-id"})},75855:(e,t,r)=>{r.d(t,{q:()=>m});var n=r(63696),a=r(63863),l=r(97157),i=r(28341),o=r(92411),s=r(60087),c=r(45960);const m=()=>n.createElement(a.p,{variant:a.s.sm},n.createElement(l.q,{icon:s.Ay,color:c.D.value}),n.createElement(i.h,{headingLevel:"h2",size:"lg"},"Unable to connect"),n.createElement(o.h,null,"There was an error retrieving data. Check your connection and try again."))},62520:(e,t,r)=>{r.d(t,{nJ:()=>f,Ze:()=>y,Oi:()=>v});var n=r(63696),a=r(59394),l=r(23338),i=r(28516),o=r(31065),s=r(3629),c=r(75855),m=r(63863),u=r(97157),d=r(28341),p=r(92411),E=r(28469);const b=({title:e,description:t})=>n.createElement(m.p,{variant:m.s.sm},n.createElement(u.q,{icon:E.Ay}),n.createElement(d.h,{headingLevel:"h2",size:"lg"},e),t&&n.createElement(p.h,null,t)),g=()=>n.createElement(b,{title:"No data available",description:"No data available to be shown here."}),f=({numRenderedColumns:e,isLoading:t=!1,isError:r=!1,isNoData:m=!1,errorEmptyState:u=null,noDataEmptyState:d=null,children:p})=>n.createElement(n.Fragment,null,t?n.createElement(i.N,null,n.createElement(o.Tr,null,n.createElement(s.Td,{colSpan:e},n.createElement(a.a,null,n.createElement(l.y,{size:"xl"}))))):r?n.createElement(i.N,{"aria-label":"Table error"},n.createElement(o.Tr,null,n.createElement(s.Td,{colSpan:e},n.createElement(a.a,null,u||n.createElement(c.q,null))))):m?n.createElement(i.N,{"aria-label":"Table error"},n.createElement(o.Tr,null,n.createElement(s.Td,{colSpan:e},n.createElement(a.a,null,d||n.createElement(g,null))))):p);var h=r(77819);const y=({numColumnsBeforeData:e,numColumnsAfterData:t,children:r})=>n.createElement(n.Fragment,null,Array(e).fill(null).map(((e,t)=>n.createElement(h.Th,{screenReaderText:`before-data-${t}`,key:t}))),r,Array(t).fill(null).map(((e,t)=>n.createElement(h.Th,{screenReaderText:`after-data-${t}`,key:t})))),v=({isExpansionEnabled:e=!1,expandableVariant:t,isSelectionEnabled:r=!1,propHelpers:{getSingleExpandButtonTdProps:a,getSelectCheckboxTdProps:l},item:i,rowIndex:o,children:c})=>n.createElement(n.Fragment,null,e&&"single"===t?n.createElement(s.Td,{...a({item:i,rowIndex:o})}):null,r?n.createElement(s.Td,{...l({item:i,rowIndex:o})}):null,c)},16988:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ne});var n=r(63696),a=r(77635),l=r(68430),i=r(1180),o=r(72785),s=r(20653),c=r(35048),m=r(4433),u=r(891),d=r(33364),p=r(85578),E=r(16646),b=r(31065),g=r(77819),f=r(28516),h=r(3629),y=r(62101),v=r(38139),I=r(87514),C=r(13506),T=r(50705),k=r(7616),S=r(3715),P=r(26667),x=r(77347),A=r(40752);const w="importers",N=(e,t)=>{const r=(0,S.jE)();return(0,P.n)({mutationFn:e=>(0,A.U0)({client:x.S,path:{name:e.importerName},body:e.configuration}),onSuccess:(t,n)=>{e(),r.invalidateQueries({queryKey:[w]})},onError:t})};var D=r(34066),B=r(33273),q=r(1349),K=r(62520),R=r(70611),F=r(27657),V=r(79215),$=r(90441),O=r(46721),L=r(43122),j=r(69798),M=r(23665),Y=r(84527),U=r(21713),z=r(40360),G=r(54518),Q=r(48281),Z=r(99300),_=r(55343),J=r(38914),H=r(57901),W=r(23857),X=r(36284),ee=r(69563),te=r(17906),re=r(78406),ne=r(341),ae=r(40468),le=r(99205),ie=r(68986);const oe=({control:e,label:t,labelIcon:r,name:a,fieldId:l,isRequired:i=!1,errorsSuppressed:o=!1,helperText:s,className:c,formGroupProps:m={},renderInput:u})=>n.createElement(V.xI,{control:e,name:a,render:({field:e,fieldState:a,formState:d})=>{const{isDirty:p,isTouched:E,error:b}=a,g=b?.message&&(p||E)&&!o;return n.createElement(z.g,{labelIcon:r,label:t,fieldId:l,className:c,isRequired:i,onBlur:e.onBlur,...m},u({field:e,fieldState:a,formState:d}),s||g?n.createElement(ae.e,null,n.createElement(le.E,null,n.createElement(ie.j,{variant:g?"error":"default"},g?b.message:s))):null)}}),se=e=>{const{control:t,label:r,labelIcon:n,name:a,fieldId:l,isRequired:i,errorsSuppressed:o,helperText:s,className:c,formGroupProps:m,...u}=e;return{extractedProps:{control:t,labelIcon:n,label:r,name:a,fieldId:l,isRequired:i,errorsSuppressed:o,helperText:s,className:c,formGroupProps:m},remainingProps:u}},ce=e=>{const{extractedProps:t,remainingProps:r}=se(e),{fieldId:a,helperText:l,isRequired:i,errorsSuppressed:o}=t,{type:s}=r;return n.createElement(oe,{...t,renderInput:({field:{onChange:e,onBlur:t,value:c,name:m,ref:u},fieldState:{isDirty:d,error:p,isTouched:E}})=>n.createElement(W.ks,{ref:u,name:m,id:a,"aria-describedby":l?`${a}-helper`:void 0,isRequired:i,onChange:(t,r)=>{e("number"===s?r&&parseInt(r,10)||"":r)},onBlur:t,value:c,validated:o?"default":(0,D.Oe)(p,d,E),...r})})};var me=r(97983);const ue=e=>{const{extractedProps:t,remainingProps:r}=se(e),{fieldId:a,helperText:l,isRequired:i,errorsSuppressed:o}=t;return n.createElement(oe,{...t,renderInput:({field:{onChange:e,onBlur:t,value:s,name:c,ref:m},fieldState:{isDirty:u,error:d,isTouched:p}})=>n.createElement(me.fs,{ref:m,name:c,id:a,"aria-describedby":l?`${a}-helper`:void 0,isRequired:i,onChange:e,onBlur:t,value:s,validated:o?"default":(0,D.Oe)(d,u,p),...r})})},de=e=>{const{extractedProps:t,remainingProps:r}=se(e),{fieldId:a,helperText:l,isRequired:i,errorsSuppressed:o}=t,{children:s,ref:c,...m}=r;return n.createElement(oe,{...t,renderInput:({field:{onChange:t,onBlur:r,value:s,name:c,ref:u},fieldState:{isDirty:d,error:p,isTouched:E}})=>n.createElement(_.F,{ref:u,name:c,id:a,"aria-describedby":l?`${a}-helper`:void 0,isRequired:i,onChange:t,onBlur:r,value:s,validated:o?"default":(0,D.Oe)(p,d,E),...m},e.children)})},pe=["s","m","h","d","w","M","y"],Ee={s:{label:"seconds"},m:{label:"minutes"},h:{label:"hours"},d:{label:"days"},w:{label:"weeks"},M:{label:"months"},y:{label:"years"}},be=["sbom","csaf","osv","cve"],ge=({importer:e,onClose:t})=>{const{pushNotification:r}=(0,n.useContext)(T.K),l=(0,$.Ik)().shape({name:(0,$.Yj)().trim().required().min(3).max(120),description:(0,$.Yj)().trim().max(250),type:(0,$.Yj)().trim().required().min(3).max(250),source:(0,$.Yj)().trim().required().min(3).max(250),periodValue:(0,$.ai)().required().min(1),periodUnit:(0,$.Yj)().trim().required().max(250),v3Signatures:(0,$.zM)().required(),enabled:(0,$.zM)().required(),keys:(0,$.YO)((0,$.Ik)().shape({value:(0,$.Yj)()})),onlyPatterns:(0,$.YO)((0,$.Ik)().shape({value:(0,$.Yj)()}))}),i=Object.keys(e?.configuration??{})[0],o=e?.configuration?(e?.configuration)[i]:void 0,s=(e=>{try{return e?parseInt(e.substring(0,e.length-1)):null}catch(e){return null}})(o?.period),c=(e=>{try{return e?e.substring(e.length-1):null}catch(e){return null}})(o?.period),{handleSubmit:m,formState:{isSubmitting:u,isValidating:d,isValid:p,isDirty:E},control:b,setValue:g,getValues:f,trigger:h}=(0,V.mN)({defaultValues:{name:e?.name||"",description:o?.description||"",type:e?i:"sbom",source:o?.source||"",periodValue:s||60,periodUnit:c||"s",v3Signatures:o?.v3Signatures??!1,enabled:o?.disabled??!0,keys:o?.keys?.map((e=>({value:e})))??[],onlyPatterns:o?.onlyPatterns?.map((e=>({value:e})))??[]},resolver:(0,F.t)(l)}),{fields:y,append:v,remove:I}=(0,V.jz)({control:b,name:"keys"}),{mutate:C}=(()=>{const e=(0,S.jE)();return(0,P.n)({mutationFn:e=>(0,A.FZ)({client:x.S,path:{name:e.importerName},body:e.configuration}),onSuccess:({data:t},n)=>{r({title:"Importer created",variant:"success"}),e.invalidateQueries({queryKey:[w]})},onError:e=>{r({title:"Error while creating the Importer",variant:"danger"})}})})(),{mutate:k}=N((()=>r({title:"Importer updated",variant:"success"})),(e=>{r({title:"Error while updating the Importer",variant:"danger"})}));return n.createElement(n.Fragment,null,n.createElement(O.l,{onSubmit:m((r=>{const n={...o,description:r.description.trim(),source:r.source.trim(),period:`${r.periodValue}${r.periodUnit.trim()}`,v3Signatures:r.v3Signatures,disabled:!r.enabled,keys:r.keys.map((e=>e.value)),onlyPatterns:r.onlyPatterns.map((e=>e.value))},a={[r.type]:n};e?k({importerName:r.name,configuration:a}):C({importerName:r.name,configuration:a}),t()}))},n.createElement(de,{control:b,name:"type",label:"Type",fieldId:"type",isRequired:!0},be.map(((e,t)=>n.createElement(L.Q,{key:t,value:e,label:e})))),n.createElement(ce,{control:b,name:"name",label:"Name",fieldId:"name",isRequired:!0,isDisabled:!!e}),n.createElement(ue,{control:b,name:"description",label:"Description",fieldId:"description",resizeOrientation:"vertical"}),n.createElement(oe,{control:b,name:"enabled",fieldId:"enabled",renderInput:({field:{value:e,onChange:t}})=>n.createElement("span",null,n.createElement(j.d,{id:"enabled",label:"Enable","aria-label":"Enable importer",isChecked:e,onChange:(e,r)=>{t(r)}}),n.createElement(M.A,{position:M.$.top,"aria-label":"Enable importer",bodyContent:"Whether or not the Importer is enabled to be executed continuously",className:"popover"},n.createElement("span",{className:`${ne.A.mlSm} pf-v5-c-icon pf-m-info`},n.createElement(re.Ay,null))))}),n.createElement(Y.S,{isExpanded:!0,header:n.createElement(U.n,{titleText:{id:"importer-settings",text:"Settings"},actions:n.createElement(n.Fragment,null,n.createElement(a.$n,{variant:"secondary",onClick:()=>{"sbom"===f().type?(g("source","https://access.redhat.com/security/data/sbom/beta/"),g("keys",[{value:"https://access.redhat.com/security/data/97f5eac4.txt#77E79ABE93673533ED09EBE2DCE3823597F5EAC4"}])):"csaf"===f().type&&(g("source","https://redhat.com/.well-known/csaf/provider-metadata.json"),g("keys",[])),g("v3Signatures",!0),h()}},"Fill demo settings"))})},n.createElement(ce,{control:b,name:"source",label:"Source",fieldId:"source",isRequired:!0}),n.createElement(z.g,{label:"Period",isRequired:!0},n.createElement(G.B,{hasGutter:!0},n.createElement(Q.o,null,n.createElement(oe,{control:b,name:"periodValue",fieldId:"periodValue",renderInput:({field:{value:e,onChange:t}})=>n.createElement(Z.Q,{value:e,onMinus:()=>{t(e-1)},onChange:t,onPlus:()=>{t(e+1)},inputName:"periodValue",inputAriaLabel:"period value",minusBtnAriaLabel:"minus",plusBtnAriaLabel:"plus"})})),n.createElement(Q.o,null,n.createElement(oe,{control:b,name:"periodUnit",fieldId:"periodUnit",renderInput:({field:{value:e,onChange:t,onBlur:r}})=>n.createElement(_.F,{"aria-label":"period-unit",isRequired:!0,onChange:t,onBlur:r,value:e,style:{width:110}},pe.map(((e,t)=>n.createElement(L.Q,{key:t,value:e,label:Ee[e].label}))))})))),n.createElement(oe,{control:b,name:"v3Signatures",fieldId:"v3Signatures",renderInput:({field:{value:e,onChange:t}})=>n.createElement("span",null,n.createElement(j.d,{id:"v3Signatures",label:"Enable v3 signatures","aria-label":"v3 signature",isChecked:e,onChange:(e,r)=>{t(r)}}),n.createElement(M.A,{position:M.$.top,"aria-label":"v3 signature",bodyContent:"Enables v3 signatures",className:"popover"},n.createElement("span",{className:`${ne.A.mlSm} pf-v5-c-icon pf-m-info`},n.createElement(re.Ay,null))))}),n.createElement(z.g,{label:"Keys",isRequired:!0,fieldId:"keys"},n.createElement(J.B,{hasGutter:!0},y.map(((e,t)=>n.createElement(H.a,{key:e.id},n.createElement(G.B,{hasGutter:!0},n.createElement(Q.o,{isFilled:!0},n.createElement(oe,{control:b,name:`keys.${t}.value`,fieldId:`keys.${t}.value`,renderInput:({field:{value:e,onChange:t,onBlur:r}})=>n.createElement(W.ks,{onChange:(e,r)=>{t(r)},onBlur:r,value:e})})),n.createElement(Q.o,null,n.createElement(a.$n,{variant:"tertiary",onClick:()=>{I(t)}},n.createElement(ee.Ay,null)," Remove")))))),n.createElement(H.a,null,n.createElement(a.$n,{variant:"tertiary",onClick:()=>v({value:""})},n.createElement(te.Ay,null)," Add Key"))))),n.createElement(X.K,null,n.createElement(a.$n,{type:"submit","aria-label":"submit",id:"source-form-submit",variant:a.Ak.primary,isDisabled:!p||u||d||!E},e?"Save":"Create"),n.createElement(a.$n,{type:"button",id:"cancel","aria-label":"cancel",variant:a.Ak.link,isDisabled:u||d,onClick:t},"Cancel"))))};var fe=r(85310),he=r(28338),ye=r(70045),ve=r(34348),Ie=r(93302),Ce=r(60087),Te=r(55092),ke=r(47538),Se=r(84632),Pe=r(57481);const xe=({preset:e,status:t,icon:r,className:a="",label:l,tooltipCount:i=0})=>{const o={Canceled:{icon:n.createElement(Se.Ay,null),status:"info",label:"Canceled"},Completed:{icon:n.createElement(Ie.Ay,null),status:"success",label:"Completed"},Error:{icon:n.createElement(Ce.Ay,null),status:"danger",label:"Error"},Failed:{icon:n.createElement(Ce.Ay,null),status:"danger",label:"Failed"},InProgress:{icon:n.createElement(Te.Ay,null),status:"info",label:"In-progress"},NotStarted:{icon:n.createElement(Se.Ay,null),label:"Not started"},Ok:{icon:n.createElement(Ie.Ay,null),status:"success"},Scheduled:{icon:n.createElement(ke.Ay,null),status:"info",label:"Scheduled"},Unknown:{icon:n.createElement(Pe.Ay,null)}},s=e&&o[e];return n.createElement(he.s,{flexWrap:{default:"nowrap"},spaceItems:{default:"spaceItemsSm"}},n.createElement(ye.Z,null,n.createElement((({children:e})=>s?.tooltipMessage?n.createElement(fe.m,{content:s?.tooltipMessage},e):n.createElement(n.Fragment,null,e)),null,n.createElement(ve.I,{status:t||s?.status,className:a},r||s?.icon||n.createElement(Pe.Ay,null)))),n.createElement(ye.Z,null,l||s?.label))},Ae=new Map([["waiting","Scheduled"],["running","InProgress"]]),we=({state:e})=>n.createElement(xe,{preset:(e=>{if(Ae.has(e)){const t=Ae.get(e);if(t)return t}return"NotStarted"})(e)}),Ne=()=>{const{pushNotification:e}=n.useContext(T.K),[t,r]=n.useState(null),[I,F]=n.useState(null),V=(e,t)=>{r(e),F(t)},[$,O]=n.useState(null),L=null!==$,j="create"!==$?$:null,{importers:M,isFetching:Y,fetchError:U,refetch:z}=((e=!1)=>{const{isLoading:t,error:r,refetch:n,data:a}=(0,k.I)({queryKey:[w],queryFn:()=>(0,A.wb)({client:x.S}),refetchInterval:!e&&5e3});return{importers:a?.data||[],isFetching:t,fetchError:r,refetch:n}})("delete"==t||null!==$),G=()=>{O(null)},{mutate:Q}=N((()=>{}),(t=>{e({title:"Error while enabling/disabling the Importer",variant:"danger"})})),Z=(e,t)=>{const r=Object.keys(e.configuration??{})[0],n={...e.configuration[r],disabled:!t},a={[r]:n};Q({importerName:e.name,configuration:a})},_=()=>{e({title:"Importer scheduled to run as soon as possible",variant:"success"})},J=t=>{e({title:(0,D.sO)(t),variant:"danger"})},{mutate:H}=(()=>{const t=(0,S.jE)(),{isPending:r,mutate:n,error:a}=(0,P.n)({mutationFn:e=>(0,A.K4)({client:x.S,path:{name:e}}),onSuccess:(r,n)=>{e({title:"Importer deleted",variant:"success"}),t.invalidateQueries({queryKey:[w]})},onError:(r,n)=>{(t=>{e({title:(0,D.sO)(t),variant:"danger"})})(r),t.invalidateQueries({queryKey:[w]})}});return{mutate:n,isPending:r,error:a}})(),W=(0,R.vY)({tableName:"importers-table",idProperty:"name",items:M,columnNames:{name:"Name",type:"Type",description:"Description",source:"Source",period:"Period",state:"State"},hasActionsColumn:!0,isSortEnabled:!0,sortableColumns:["name"],getSortValues:e=>({name:e.name}),isPaginationEnabled:!0,isExpansionEnabled:!0,expandableVariant:"single",isFilterEnabled:!0,filterCategories:[{categoryKey:"name",title:"Name",type:B.RJ.search,placeholderText:"Search by name...",getItemValue:e=>e.name||""}]}),{currentPageItems:X,numRenderedColumns:ee,propHelpers:{toolbarProps:te,filterToolbarProps:re,paginationToolbarItemProps:ne,paginationProps:ae,tableProps:le,getThProps:ie,getTrProps:oe,getTdProps:se},expansionDerivedState:{isCellExpanded:ce}}=W;let me;switch(t){case"enable":me={title:"Enable Importer",titleIconVariant:"info",message:`Are you sure you want to enable the Importer ${I?.name}?`,confirmBtnVariant:a.Ak.primary,confirmBtnLabel:"Enable",cancelBtnLabel:"Cancel"};break;case"disable":me={title:"Disable Importer",titleIconVariant:"info",message:`Are you sure you want to disable the Importer ${I?.name}?`,confirmBtnVariant:a.Ak.primary,confirmBtnLabel:"Disable",cancelBtnLabel:"Cancel"};break;case"run":me={title:"Run Importer",titleIconVariant:"info",message:`Are you sure you want to run the Importer ${I?.name}?`,confirmBtnVariant:a.Ak.primary,confirmBtnLabel:"Run",cancelBtnLabel:"Cancel"};break;case"delete":me={title:"Delete Importer",titleIconVariant:"warning",message:`Are you sure you want to delete the Importer ${I?.name}?`,confirmBtnVariant:a.Ak.danger,confirmBtnLabel:"Delete",cancelBtnLabel:"Cancel"};break;default:me=null}return n.createElement(n.Fragment,null,n.createElement(l.d8,{variant:l.zC.light},n.createElement(i.n,null,n.createElement(o.E,{component:"h1"},"Importers"))),n.createElement(l.d8,null,n.createElement("div",{style:{backgroundColor:"var(--pf-v5-global--BackgroundColor--100)"}},n.createElement(s.M,{...te},n.createElement(c.P,null,n.createElement(B.Us,{showFiltersSideBySide:!0,...re}),n.createElement(m.T,null,n.createElement(a.$n,{type:"button",id:"create-importer","aria-label":"Create new importer",variant:a.Ak.primary,onClick:()=>O("create")},"Create Importer")),n.createElement(m.T,{...ne},n.createElement(q.n,{idPrefix:"importer-table",isTop:!0,paginationProps:ae})))),n.createElement(p.X,{...le,"aria-label":"CVEs table"},n.createElement(E.d,null,n.createElement(b.Tr,null,n.createElement(K.Ze,{...W},n.createElement(g.Th,{...ie({columnKey:"name"})}),n.createElement(g.Th,{...ie({columnKey:"type"})}),n.createElement(g.Th,{...ie({columnKey:"description"})}),n.createElement(g.Th,{...ie({columnKey:"source"})}),n.createElement(g.Th,{...ie({columnKey:"period"})}),n.createElement(g.Th,{...ie({columnKey:"state"})})))),n.createElement(K.nJ,{isLoading:Y,isError:!!U,isNoData:0===M.length,numRenderedColumns:ee},X?.map(((e,t)=>{const r=Object.keys(e.configuration??{})[0],a=e.configuration[r],l=!1===a?.disabled;return n.createElement(f.N,{key:e.name},n.createElement(b.Tr,{...oe({item:e})},n.createElement(K.Oi,{...W,item:e,rowIndex:t},n.createElement(h.Td,{width:15,modifier:"truncate",...se({columnKey:"name"})},e.name),n.createElement(h.Td,{width:10,modifier:"truncate",...se({columnKey:"type"})},r),n.createElement(h.Td,{width:25,modifier:"truncate",...se({columnKey:"description"})},a?.description),n.createElement(h.Td,{width:30,modifier:"truncate",...se({columnKey:"source"})},a?.source),n.createElement(h.Td,{width:10,modifier:"truncate",...se({columnKey:"period"})},a?.period),n.createElement(h.Td,{width:10,modifier:"truncate",...se({columnKey:"state"})},e.state&&l?n.createElement(we,{state:e.state}):n.createElement(u.J,{color:"orange"},"Disabled")),n.createElement(h.Td,{isActionCell:!0},n.createElement(y.G,{items:[...l?[{title:"Run",onClick:()=>{V("run",e)}}]:[],...l?[{title:"Disable",onClick:()=>{V("disable",e)}}]:[{title:"Enable",onClick:()=>{V("enable",e)}}],{isSeparator:!0},{title:"Edit",onClick:()=>O(e)},{title:"Delete",onClick:()=>{V("delete",e)}}]})))),ce(e)?n.createElement(b.Tr,{isExpanded:!0},n.createElement(h.Td,{colSpan:7},n.createElement("div",{className:"pf-v5-u-m-md"},n.createElement(v.g,null,n.createElement(De,{importerId:e.name}))))):null)})))),n.createElement(q.n,{idPrefix:"importer-table",isTop:!1,isCompact:!0,paginationProps:ae}))),n.createElement(d.a,{id:"create-edit-importer-modal",title:j?"Update Importer":"New Importer",variant:d.d.medium,isOpen:L,onClose:G},n.createElement(ge,{importer:j,onClose:G})),t&&me&&n.createElement(C.T,{...me,isOpen:!0,onCancel:()=>r(null),onClose:()=>r(null),onConfirm:()=>{if(I)switch(t){case"enable":Z(I,!0);break;case"disable":Z(I,!1);break;case"run":e=I.name,(0,A.Nz)({client:x.S,path:{name:e},body:!0}).then(_).catch(J);break;case"delete":H(I.name)}var e;F(null),r(null)}}))},De=({importerId:e})=>{const{result:{data:t},isFetching:r,fetchError:a}=((e,t=!1)=>{const{data:r,isLoading:n,refetch:a,error:l}=(0,k.I)({queryKey:[w,e,"reports"],queryFn:()=>(0,A.e9)({client:x.S,path:{name:e}}),refetchInterval:!t&&5e3});return{result:{data:r?.data?.items||[],total:r?.data?.total??0},isFetching:n,fetchError:l,refetch:a}})(e),l=(0,R.vY)({variant:"compact",tableName:"report-table",idProperty:"id",items:t,columnNames:{startDate:"Start date",endDate:"End date",numberOfItems:"Number of items",error:"Error"},isPaginationEnabled:!0,initialItemsPerPage:5,isSortEnabled:!0,sortableColumns:[],getSortValues:e=>({}),isFilterEnabled:!1,isExpansionEnabled:!1}),{currentPageItems:i,numRenderedColumns:o,propHelpers:{toolbarProps:u,tableProps:d,paginationToolbarItemProps:y,paginationProps:v,getThProps:C,getTrProps:T,getTdProps:S}}=l;return n.createElement(n.Fragment,null,n.createElement(s.M,{...u},n.createElement(c.P,null,n.createElement(m.T,{...y},n.createElement(q.n,{idPrefix:"report-table",isTop:!0,paginationProps:v})))),n.createElement(p.X,{...d,"aria-label":"Report table"},n.createElement(I.H,null,"Importer reports"),n.createElement(E.d,null,n.createElement(b.Tr,null,n.createElement(K.Ze,{...l},n.createElement(g.Th,{...C({columnKey:"startDate"})}),n.createElement(g.Th,{...C({columnKey:"endDate"})}),n.createElement(g.Th,{...C({columnKey:"numberOfItems"})}),n.createElement(g.Th,{...C({columnKey:"error"})})))),n.createElement(K.nJ,{isLoading:r,isError:!!a,isNoData:0===t?.length,numRenderedColumns:o},i?.map(((e,t)=>n.createElement(f.N,{key:e.id},n.createElement(b.Tr,{...T({item:e})},n.createElement(K.Oi,{...l,item:e,rowIndex:t},n.createElement(h.Td,{width:15,modifier:"truncate",...S({columnKey:"startDate"})},"formatDateTime(item.report.startDate)"),n.createElement(h.Td,{width:15,modifier:"truncate",...S({columnKey:"endDate"})},"formatDateTime(item.report.endDate)"),n.createElement(h.Td,{width:10,modifier:"truncate",...S({columnKey:"numberOfItems"})},"item.report.numberOfItems"),n.createElement(h.Td,{width:50,modifier:"truncate",...S({columnKey:"error"})},e.error)))))))),n.createElement(q.n,{idPrefix:"report-table",isTop:!1,isCompact:!0,paginationProps:v}))}}}]);
//# sourceMappingURL=900.dfc9c818.min.js.map