"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[391],{64361:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(34629),n=a(63696),i=a(62634),r=a(53141),s=a(17327);const o=e=>{var{children:t,className:a,component:o="div"}=e,c=(0,l.__rest)(e,["children","className","component"]);const{cardId:u,registerTitleId:m}=n.useContext(s.E),d=o,p=u?`${u}-title`:"";return n.useEffect((()=>(m(p),()=>m(""))),[m,p]),n.createElement("div",{className:(0,i.A)(r.A.cardTitle)},n.createElement(d,Object.assign({className:(0,i.A)(r.A.cardTitleText,a),id:p||void 0},c),t))};o.displayName="CardTitle"},23546:(e,t,a)=>{a.d(t,{o:()=>h});var l=a(34629),n=a(63696),i=a(96660),r=a(42577),s=a(62634),o=a(77635),c=a(891),u=a(85310),m=a(84632),d=a(44551),p=a(40066);class h extends n.Component{constructor(e){super(e),this.headingRef=n.createRef(),this.toggleCollapse=()=>{this.setState((e=>({isOpen:!e.isOpen,isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})))},this.state={isOpen:this.props.defaultIsOpen,isTooltipVisible:!1}}componentDidMount(){this.setState({isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})}renderLabel(e){const{categoryName:t,tooltipPosition:a}=this.props,{isTooltipVisible:l}=this.state;return l?n.createElement(u.m,{position:a,content:t},n.createElement("span",{tabIndex:0,ref:this.headingRef,className:(0,s.A)(i.A.labelGroupLabel)},n.createElement("span",{"aria-hidden":"true",id:e},t))):n.createElement("span",{ref:this.headingRef,className:(0,s.A)(i.A.labelGroupLabel),"aria-hidden":"true",id:e},t)}render(){const e=this.props,{categoryName:t,children:a,className:u,isClosable:h,isCompact:E,closeBtnAriaLabel:b,"aria-label":g,onClick:f,numLabels:v,expandedText:y,collapsedText:C,defaultIsOpen:T,tooltipPosition:x,isVertical:N,isEditable:A,hasEditableTextArea:P,editableTextAreaProps:O,addLabelControl:R}=e,w=(0,l.__rest)(e,["categoryName","children","className","isClosable","isCompact","closeBtnAriaLabel","aria-label","onClick","numLabels","expandedText","collapsedText","defaultIsOpen","tooltipPosition","isVertical","isEditable","hasEditableTextArea","editableTextAreaProps","addLabelControl"]),{isOpen:I}=this.state,L=n.Children.toArray(a),M=L.length,S=(0,d.ou)(C,{remaining:M-v}),k=e=>{const a=I?L:L.slice(0,v),l=n.createElement(n.Fragment,null,t&&this.renderLabel(e),n.createElement("ul",Object.assign({className:(0,s.A)(i.A.labelGroupList)},t&&{"aria-labelledby":e},!t&&{"aria-label":g},{role:"list"},w),a.map(((e,t)=>n.createElement("li",{className:(0,s.A)(i.A.labelGroupListItem),key:t},e))),M>v&&n.createElement("li",{className:(0,s.A)(i.A.labelGroupListItem)},n.createElement(c.J,{isOverflowLabel:!0,onClick:this.toggleCollapse,className:(0,s.A)(E&&r.A.modifiers.compact)},I?y:S)),R&&n.createElement("li",{className:(0,s.A)(i.A.labelGroupListItem)},R),A&&P&&n.createElement("li",{className:(0,s.A)(i.A.labelGroupListItem,i.A.modifiers.textarea)},n.createElement("textarea",Object.assign({className:(0,s.A)(i.A.labelGroupTextarea),rows:1,tabIndex:0},O))))),d=n.createElement("div",{className:(0,s.A)(i.A.labelGroupClose)},n.createElement(o.$n,{variant:"plain","aria-label":b,onClick:f,id:`remove_group_${e}`,"aria-labelledby":`remove_group_${e} ${e}`},n.createElement(m.Ay,{"aria-hidden":"true"})));return n.createElement("div",{className:(0,s.A)(i.A.labelGroup,u,t&&i.A.modifiers.category,N&&i.A.modifiers.vertical,A&&i.A.modifiers.editable)},n.createElement("div",{className:(0,s.A)(i.A.labelGroupMain)},l),h&&d)};return 0===M&&void 0===R?null:n.createElement(p.N,null,(e=>k(this.props.id||e)))}}h.displayName="LabelGroup",h.defaultProps={expandedText:"Show Less",collapsedText:"${remaining} more",categoryName:"",defaultIsOpen:!1,numLabels:3,isClosable:!1,isCompact:!1,onClick:e=>{},closeBtnAriaLabel:"Close label group",tooltipPosition:"top","aria-label":"Label group category",isVertical:!1,isEditable:!1,hasEditableTextArea:!1}},71743:(e,t,a)=>{a.d(t,{P:()=>p});var l=a(34629),n=a(63696);const i="pf-v5-c-truncate__end",r="pf-v5-c-truncate__start";var s,o=a(62634),c=a(85310),u=a(23993);!function(e){e.start="start",e.end="end",e.middle="middle"}(s||(s={}));const m={start:i,end:r},d=(e,t)=>[e.slice(0,e.length-t),e.slice(-t)],p=e=>{var{className:t,position:a="end",tooltipPosition:p="top",trailingNumChars:h=7,content:E}=e,b=(0,l.__rest)(e,["className","position","tooltipPosition","trailingNumChars","content"]);const[g,f]=n.useState(!0),[v,y]=n.useState(null),[C,T]=n.useState(null),x=n.useRef(null),N=n.useRef(null),A=n.useRef(null);n.useEffect((()=>{x&&x.current&&!C&&T(x.current),N&&N.current.parentElement.parentElement&&!v&&y(N.current.parentElement.parentElement)}),[x,N]),n.useEffect((()=>{if(C&&v&&!A.current){const e=((e,t,a)=>{const l=e.scrollWidth;return l/a.length*t+l})(C,h,E),t="middle"===a?e:C.scrollWidth,l=()=>{const e=(e=>{const t=getComputedStyle(e);return parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRight)-parseFloat(t.borderLeft)})(v);f(t>=e)},n=(0,u.N)(v,l);return()=>{n()}}}),[C,v]);const P=n.createElement("span",Object.assign({ref:N,className:(0,o.A)("pf-v5-c-truncate",t)},b),(a===s.end||a===s.start)&&n.createElement("span",{ref:x,className:m[a]},E,a===s.start&&n.createElement(n.Fragment,null,"â€Ž")),a===s.middle&&E.slice(0,E.length-h).length>12&&n.createElement(n.Fragment,null,n.createElement("span",{ref:x,className:r},d(E,h)[0]),n.createElement("span",{className:i},d(E,h)[1])),a===s.middle&&E.slice(0,E.length-h).length<=12&&E);return g?n.createElement(c.m,{hidden:!g,position:p,content:E},P):P};p.displayName="Truncate"},14472:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var l=a(63696),n=a(68430),i=a(1180),r=a(72785),s=a(14310),o=a(1159),c=a(20653),u=a(35048),m=a(4433),d=a(87043),p=a(1349);const h=({})=>{const{tableControls:e}=l.useContext(s.u),{propHelpers:{toolbarProps:t,filterToolbarProps:a,paginationToolbarItemProps:n,paginationProps:i}}=e;return l.createElement(c.M,{...t},l.createElement(u.P,null,l.createElement(d.Us,{...a}),l.createElement(m.T,{...n},l.createElement(p.n,{idPrefix:"vulnerability-table",isTop:!0,paginationProps:i}))))},E=()=>l.createElement(l.Fragment,null,l.createElement(n.d8,{variant:n.zC.light},l.createElement(i.n,null,l.createElement(r.E,{component:"h1"},"Vulnerabilities"))),l.createElement(n.d8,null,l.createElement("div",{style:{backgroundColor:"var(--pf-v5-global--BackgroundColor--100)"}},l.createElement(s.y,null,l.createElement(h,null),l.createElement(o.fk,null)))))},14310:(e,t,a)=>{a.d(t,{u:()=>c,y:()=>u});var l=a(63696),n=a(87043),i=a(86820),r=a(70611),s=a(5098),o=a(74932);const c=l.createContext({}),u=({children:e})=>{const t=(0,r.MM)({tableName:"vulnerability",persistenceKeyPrefix:i.rt.vulnerabilities,columnNames:{identifier:"Name",title:"Description",severity:"CVSS",published:"Published",packages:"Packages",sboms:"SBOMs"},isPaginationEnabled:!0,isSortEnabled:!0,sortableColumns:[],isFilterEnabled:!0,filterCategories:[{categoryKey:"",title:"Filter text",placeholderText:"Search",type:n.RJ.search},{categoryKey:"average_severity",title:"CVSS",placeholderText:"CVSS",type:n.RJ.multiselect,selectOptions:[{value:"none",label:"None"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}]}],isExpansionEnabled:!0,expandableVariant:"compound"}),{result:{data:a,total:u},isFetching:m,fetchError:d}=(0,o.WJ)((0,r.Ng)({...t,hubSortFieldKeys:{identifier:"identifier",severity:"average_score"}})),p=(0,r.PB)({...t,idProperty:"identifier",currentPageItems:a,totalItemCount:u,isLoading:m,selectionState:(0,s.$)({items:a,isEqual:(e,t)=>e.identifier===t.identifier})});return l.createElement(c.Provider,{value:{totalItemCount:u,isFetching:m,fetchError:d,tableControls:p}},e)}},1159:(e,t,a)=>{a.d(t,{fk:()=>M});var l=a(63696),n=a(49348),i=a(76072),r=a(97299),s=a(17327),o=a(64361),c=a(71603),u=a(65753),m=a(24974),d=a(21639),p=a(3939),h=a(85578),E=a(16646),b=a(31065),g=a(77819),f=a(28516),v=a(3629),y=a(62101),C=a(38139),T=a(24417),x=a(50705),N=a(52302),A=a(1349),P=a(62520),O=a(74932),R=a(34066),w=a(70400),I=a(65636),L=a(14310);const M=()=>{const{pushNotification:e}=l.useContext(x.K),{isFetching:t,fetchError:a,totalItemCount:T,tableControls:w}=l.useContext(L.u),I=(0,O.o5)((t=>{e({title:`The Vulnerability ${t.identifier} was deleted`,variant:"danger"})}),(t=>{e({title:"Error occurred while deleting the vulnerability",variant:"danger"})})),{numRenderedColumns:M,currentPageItems:F,propHelpers:{paginationProps:_,tableProps:K,getThProps:G,getTrProps:W,getTdProps:V,getExpandedContentTdProps:B},expansionDerivedState:{isCellExpanded:$}}=w;return l.createElement(l.Fragment,null,l.createElement(h.X,{...K,"aria-label":"Vulnerability table"},l.createElement(E.d,null,l.createElement(b.Tr,null,l.createElement(P.Ze,{...w},l.createElement(g.Th,{...G({columnKey:"identifier"})}),l.createElement(g.Th,{...G({columnKey:"title"})}),l.createElement(g.Th,{...G({columnKey:"severity"})}),l.createElement(g.Th,{...G({columnKey:"published"})}),l.createElement(g.Th,{...G({columnKey:"packages"})}),l.createElement(g.Th,{...G({columnKey:"sboms"})})))),l.createElement(P.nJ,{isLoading:t,isError:!!a,isNoData:0===T,numRenderedColumns:M},F.map(((e,t)=>l.createElement(f.N,{key:e.identifier,isExpanded:$(e)},l.createElement(b.Tr,{...W({item:e})},l.createElement(P.Oi,{...w,item:e,rowIndex:t},l.createElement(v.Td,{width:15,...V({columnKey:"identifier",isCompoundExpandToggle:!0,item:e,rowIndex:t})},l.createElement(n.k2,{to:`/vulnerabilities/${e.identifier}`},e.identifier)),l.createElement(v.Td,{width:45,modifier:"truncate",...V({columnKey:"title"})},e.title||e.description),l.createElement(v.Td,{width:10,...V({columnKey:"severity"})},e.average_severity&&l.createElement(N.h,{value:e.average_severity})),l.createElement(v.Td,{width:10,...V({columnKey:"published"})},(0,R.Yq)(e.published)),l.createElement(v.Td,{width:10,modifier:"truncate",...V({columnKey:"packages",isCompoundExpandToggle:!0,item:e,rowIndex:t})},"Packages"),l.createElement(v.Td,{width:10,modifier:"truncate",...V({columnKey:"sboms",isCompoundExpandToggle:!0,item:e,rowIndex:t})},"SBOMs"),l.createElement(v.Td,{isActionCell:!0},l.createElement(y.G,{items:[{title:"Delete",onClick:()=>I.mutate(e.identifier)}]})))),$(e)?l.createElement(b.Tr,{isExpanded:!0},l.createElement(v.Td,{...B({item:e})},l.createElement(C.g,null,l.createElement("div",{className:"pf-v5-u-m-md"},$(e,"identifier")?l.createElement(l.Fragment,null,l.createElement(i.x,{hasGutter:!0},l.createElement(r.E,{md:8},l.createElement(s.Z,{isFullHeight:!0,isCompact:!0},l.createElement(o.Z,null,"General view"),l.createElement(c.b,null,l.createElement(u.B,{columnModifier:{default:"2Col"}},l.createElement(m.W,null,l.createElement(d.X,null,"Published"),l.createElement(p.d,null,(0,R.Yq)(e.published))),l.createElement(m.W,null,l.createElement(d.X,null,"Modified"),l.createElement(p.d,null,(0,R.Yq)(e.modified))),l.createElement(m.W,null,l.createElement(d.X,null,"Released"),l.createElement(p.d,null,(0,R.Yq)(e.released))),l.createElement(m.W,null,l.createElement(d.X,null,"Withdrawn"),l.createElement(p.d,null,(0,R.Yq)(e.withdrawn))))))),l.createElement(r.E,{md:4},l.createElement(s.Z,{isFullHeight:!0,isCompact:!0},l.createElement(o.Z,null,"Additional info"),l.createElement(c.b,null,l.createElement(u.B,null,l.createElement(m.W,null,l.createElement(d.X,null,"CWE"),l.createElement(p.d,null,"item.cwe")),l.createElement(m.W,null,l.createElement(d.X,null,"Non normative"),l.createElement(p.d,null,e.normative?"Yes":"No")))))))):null,$(e,"packages")?l.createElement(l.Fragment,null,l.createElement(S,{vulnerabilityId:e.identifier})):null,$(e,"sboms")?l.createElement(l.Fragment,null,l.createElement(k,{vulnerabilityId:e.identifier})):null)))):null))))),l.createElement(A.n,{idPrefix:"vulnerability-table",isTop:!1,isCompact:!0,paginationProps:_}))},S=({vulnerabilityId:e})=>{const{vulnerability:t,isFetching:a,fetchError:n}=(0,O.uN)(e);return l.createElement(T.a,{isFetching:a,fetchError:n},l.createElement(w.n,{variant:"compact",initialItemsPerPage:5,advisories:t?.advisories??[]}))},k=({vulnerabilityId:e})=>{const{vulnerability:t,isFetching:a,fetchError:n}=(0,O.uN)(e);return l.createElement(T.a,{isFetching:a,fetchError:n},l.createElement(I.m,{variant:"compact",advisories:t?.advisories??[]}))}},26667:(e,t,a)=>{a.d(t,{n:()=>m});var l=a(63696),n=a(9304),i=a(13403),r=a(47794),s=a(19106),o=class extends r.Q{#e;#t=void 0;#a;#l;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,s.f8)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#a,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,s.EN)(t.mutationKey)!==(0,s.EN)(this.options.mutationKey)?this.reset():"pending"===this.#a?.state.status&&this.#a.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#a?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#a?.removeObserver(this),this.#a=void 0,this.#n(),this.#i()}mutate(e,t){return this.#l=t,this.#a?.removeObserver(this),this.#a=this.#e.getMutationCache().build(this.#e,this.options),this.#a.addObserver(this),this.#a.execute(e)}#n(){const e=this.#a?.state??(0,n.$)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.j.batch((()=>{if(this.#l&&this.hasListeners()){const t=this.#t.variables,a=this.#t.context;"success"===e?.type?(this.#l.onSuccess?.(e.data,t,a),this.#l.onSettled?.(e.data,null,t,a)):"error"===e?.type&&(this.#l.onError?.(e.error,t,a),this.#l.onSettled?.(void 0,e.error,t,a))}this.listeners.forEach((e=>{e(this.#t)}))}))}},c=a(3715),u=a(908);function m(e,t){const a=(0,c.jE)(t),[n]=l.useState((()=>new o(a,e)));l.useEffect((()=>{n.setOptions(e)}),[n,e]);const r=l.useSyncExternalStore(l.useCallback((e=>n.subscribe(i.j.batchCalls(e))),[n]),(()=>n.getCurrentResult()),(()=>n.getCurrentResult())),s=l.useCallback(((e,t)=>{n.mutate(e,t).catch(u.l)}),[n]);if(r.error&&(0,u.G)(n.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:s,mutateAsync:r.mutate}}}}]);
//# sourceMappingURL=391.03af292b.min.js.map