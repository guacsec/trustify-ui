"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[159],{17327:(e,t,l)=>{l.d(t,{E:()=>d,Z:()=>s});var a=l(34629),i=l(63696),r=l(53141),n=l(62634),c=l(1850);const d=i.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1,isClickable:!1,isSelectable:!1,isSelected:!1,isClicked:!1,isDisabled:!1}),s=e=>{var{children:t,id:l="",className:o,component:m="div",isCompact:u=!1,isSelectable:p=!1,isClickable:f=!1,isDisabled:b=!1,isSelectableRaised:E=!1,isSelected:h=!1,isClicked:g=!1,isDisabledRaised:v=!1,isFlat:y=!1,isExpanded:C=!1,isRounded:_=!1,isLarge:T=!1,isFullHeight:x=!1,isPlain:A=!1,ouiaId:I,ouiaSafe:k=!0,hasSelectableInput:S=!1,selectableInputAriaLabel:N,onSelectableInputChange:F=()=>{}}=e,w=(0,a.__rest)(e,["children","id","className","component","isCompact","isSelectable","isClickable","isDisabled","isSelectableRaised","isSelected","isClicked","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const P=m,R=(0,c.iK)(s.displayName,I,k),[K,L]=i.useState(""),[D,H]=i.useState();u&&T&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),T=!1);const O=i.useRef(!1);return i.useEffect((()=>{N?H({"aria-label":N}):K?H({"aria-labelledby":K}):S&&!O.current&&(H({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[S,N,K]),i.createElement(d.Provider,{value:{cardId:l,registerTitleId:e=>{L(e),O.current=!!e},isExpanded:C,isClickable:f,isSelectable:p,isSelected:h,isClicked:g,isDisabled:b,hasSelectableInput:S}},S&&i.createElement("input",Object.assign({className:"pf-v5-screen-reader",id:`${l}-input`},D,{type:"checkbox",checked:h,onChange:e=>F(e,l),disabled:v,tabIndex:-1})),i.createElement(P,Object.assign({id:l,className:(0,n.A)(r.A.card,u&&r.A.modifiers.compact,C&&r.A.modifiers.expanded,y&&r.A.modifiers.flat,_&&r.A.modifiers.rounded,T&&r.A.modifiers.displayLg,x&&r.A.modifiers.fullHeight,A&&r.A.modifiers.plain,v?(0,n.A)(r.A.modifiers.nonSelectableRaised):E?(0,n.A)(r.A.modifiers.selectableRaised,h&&r.A.modifiers.selectedRaised):p&&f?(0,n.A)(r.A.modifiers.selectable,r.A.modifiers.clickable,(h||g)&&r.A.modifiers.current):p?(0,n.A)(r.A.modifiers.selectable,h&&r.A.modifiers.selected):f?(0,n.A)(r.A.modifiers.clickable,g&&r.A.modifiers.current):"",b&&r.A.modifiers.disabled,o),tabIndex:E?"0":void 0},w,R),t))};s.displayName="Card"},71603:(e,t,l)=>{l.d(t,{b:()=>c});var a=l(34629),i=l(63696),r=l(53141),n=l(62634);const c=e=>{var{children:t,className:l,component:c="div",isFilled:d=!0}=e,s=(0,a.__rest)(e,["children","className","component","isFilled"]);const o=c;return i.createElement(o,Object.assign({className:(0,n.A)(r.A.cardBody,!d&&r.A.modifiers.noFill,l)},s),t)};c.displayName="CardBody"},64361:(e,t,l)=>{l.d(t,{Z:()=>d});var a=l(34629),i=l(63696),r=l(62634),n=l(53141),c=l(17327);const d=e=>{var{children:t,className:l,component:d="div"}=e,s=(0,a.__rest)(e,["children","className","component"]);const{cardId:o,registerTitleId:m}=i.useContext(c.E),u=d,p=o?`${o}-title`:"";return i.useEffect((()=>(m(p),()=>m(""))),[m,p]),i.createElement("div",{className:(0,r.A)(n.A.cardTitle)},i.createElement(u,Object.assign({className:(0,r.A)(n.A.cardTitleText,l),id:p||void 0},s),t))};d.displayName="CardTitle"},14310:(e,t,l)=>{l.d(t,{u:()=>s,y:()=>o});var a=l(63696),i=l(33273),r=l(86820),n=l(70611),c=l(5098),d=l(74932);const s=a.createContext({}),o=({children:e})=>{const t=(0,n.MM)({tableName:"vulnerability",persistenceKeyPrefix:r.rt.vulnerabilities,columnNames:{identifier:"Name",title:"Description",severity:"CVSS",published:"Published",packages:"Packages",sboms:"SBOMs"},isPaginationEnabled:!0,isSortEnabled:!0,sortableColumns:[],isFilterEnabled:!0,filterCategories:[{categoryKey:"",title:"Filter text",placeholderText:"Search",type:i.RJ.search},{categoryKey:"average_severity",title:"CVSS",placeholderText:"CVSS",type:i.RJ.multiselect,selectOptions:[{value:"none",label:"None"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}]}],isExpansionEnabled:!0,expandableVariant:"compound"}),{result:{data:l,total:o},isFetching:m,fetchError:u}=(0,d.WJ)((0,n.Ng)({...t,hubSortFieldKeys:{identifier:"identifier",severity:"average_score"}})),p=(0,n.PB)({...t,idProperty:"identifier",currentPageItems:l,totalItemCount:o,isLoading:m,selectionState:(0,c.$)({items:l,isEqual:(e,t)=>e.identifier===t.identifier})});return a.createElement(s.Provider,{value:{totalItemCount:o,isFetching:m,fetchError:u,tableControls:p}},e)}},1159:(e,t,l)=>{l.d(t,{fk:()=>P});var a=l(63696),i=l(49348),r=l(76072),n=l(97299),c=l(17327),d=l(64361),s=l(71603),o=l(65753),m=l(24974),u=l(21639),p=l(3939),f=l(85578),b=l(16646),E=l(31065),h=l(77819),g=l(28516),v=l(3629),y=l(62101),C=l(38139),_=l(24417),T=l(50705),x=l(52302),A=l(1349),I=l(62520),k=l(74932),S=l(34066),N=l(70400),F=l(48703),w=l(14310);const P=()=>{const{pushNotification:e}=a.useContext(T.K),{isFetching:t,fetchError:l,totalItemCount:_,tableControls:N}=a.useContext(w.u),F=(0,k.o5)((t=>{e({title:`The Vulnerability ${t.identifier} was deleted`,variant:"danger"})}),(t=>{e({title:"Error occurred while deleting the vulnerability",variant:"danger"})})),{numRenderedColumns:P,currentPageItems:L,propHelpers:{paginationProps:D,tableProps:H,getThProps:O,getTrProps:W,getTdProps:B,getExpandedContentTdProps:M},expansionDerivedState:{isCellExpanded:X}}=N;return a.createElement(a.Fragment,null,a.createElement(f.X,{...H,"aria-label":"Vulnerability table"},a.createElement(b.d,null,a.createElement(E.Tr,null,a.createElement(I.Ze,{...N},a.createElement(h.Th,{...O({columnKey:"identifier"})}),a.createElement(h.Th,{...O({columnKey:"title"})}),a.createElement(h.Th,{...O({columnKey:"severity"})}),a.createElement(h.Th,{...O({columnKey:"published"})}),a.createElement(h.Th,{...O({columnKey:"packages"})}),a.createElement(h.Th,{...O({columnKey:"sboms"})})))),a.createElement(I.nJ,{isLoading:t,isError:!!l,isNoData:0===_,numRenderedColumns:P},L.map(((e,t)=>a.createElement(g.N,{key:e.identifier,isExpanded:X(e)},a.createElement(E.Tr,{...W({item:e})},a.createElement(I.Oi,{...N,item:e,rowIndex:t},a.createElement(v.Td,{width:15,...B({columnKey:"identifier",isCompoundExpandToggle:!0,item:e,rowIndex:t})},a.createElement(i.k2,{to:`/vulnerabilities/${e.identifier}`},e.identifier)),a.createElement(v.Td,{width:45,modifier:"truncate",...B({columnKey:"title"})},e.title||e.description),a.createElement(v.Td,{width:10,...B({columnKey:"severity"})},e.average_severity&&a.createElement(x.h,{value:e.average_severity})),a.createElement(v.Td,{width:10,...B({columnKey:"published"})},(0,S.Yq)(e.published)),a.createElement(v.Td,{width:10,modifier:"truncate",...B({columnKey:"packages",isCompoundExpandToggle:!0,item:e,rowIndex:t})},"Packages"),a.createElement(v.Td,{width:10,modifier:"truncate",...B({columnKey:"sboms",isCompoundExpandToggle:!0,item:e,rowIndex:t})},"SBOMs"),a.createElement(v.Td,{isActionCell:!0},a.createElement(y.G,{items:[{title:"Delete",onClick:()=>F.mutate(e.identifier)}]})))),X(e)?a.createElement(E.Tr,{isExpanded:!0},a.createElement(v.Td,{...M({item:e})},a.createElement(C.g,null,a.createElement("div",{className:"pf-v5-u-m-md"},X(e,"identifier")?a.createElement(a.Fragment,null,a.createElement(r.x,{hasGutter:!0},a.createElement(n.E,{md:8},a.createElement(c.Z,{isFullHeight:!0,isCompact:!0},a.createElement(d.Z,null,"General view"),a.createElement(s.b,null,a.createElement(o.B,{columnModifier:{default:"2Col"}},a.createElement(m.W,null,a.createElement(u.X,null,"Published"),a.createElement(p.d,null,(0,S.Yq)(e.published))),a.createElement(m.W,null,a.createElement(u.X,null,"Modified"),a.createElement(p.d,null,(0,S.Yq)(e.modified))),a.createElement(m.W,null,a.createElement(u.X,null,"Released"),a.createElement(p.d,null,(0,S.Yq)(e.released))),a.createElement(m.W,null,a.createElement(u.X,null,"Withdrawn"),a.createElement(p.d,null,(0,S.Yq)(e.withdrawn))))))),a.createElement(n.E,{md:4},a.createElement(c.Z,{isFullHeight:!0,isCompact:!0},a.createElement(d.Z,null,"Additional info"),a.createElement(s.b,null,a.createElement(o.B,null,a.createElement(m.W,null,a.createElement(u.X,null,"CWE"),a.createElement(p.d,null,"item.cwe")),a.createElement(m.W,null,a.createElement(u.X,null,"Non normative"),a.createElement(p.d,null,e.normative?"Yes":"No")))))))):null,X(e,"packages")?a.createElement(a.Fragment,null,a.createElement(R,{vulnerabilityId:e.identifier})):null,X(e,"sboms")?a.createElement(a.Fragment,null,a.createElement(K,{vulnerabilityId:e.identifier})):null)))):null))))),a.createElement(A.n,{idPrefix:"vulnerability-table",isTop:!1,isCompact:!0,paginationProps:D}))},R=({vulnerabilityId:e})=>{const{vulnerability:t,isFetching:l,fetchError:i}=(0,k.uN)(e);return a.createElement(_.a,{isFetching:l,fetchError:i},a.createElement(N.n,{variant:"compact",initialItemsPerPage:5,advisories:t?.advisories??[]}))},K=({vulnerabilityId:e})=>{const{vulnerability:t,isFetching:l,fetchError:i}=(0,k.uN)(e);return a.createElement(_.a,{isFetching:l,fetchError:i},a.createElement(F.m,{variant:"compact",advisories:t?.advisories??[]}))}},53141:(e,t,l)=>{l.d(t,{A:()=>a});const a={card:"pf-v5-c-card",cardActions:"pf-v5-c-card__actions",cardBody:"pf-v5-c-card__body",cardExpandableContent:"pf-v5-c-card__expandable-content",cardFooter:"pf-v5-c-card__footer",cardHeader:"pf-v5-c-card__header",cardHeaderMain:"pf-v5-c-card__header-main",cardHeaderToggle:"pf-v5-c-card__header-toggle",cardHeaderToggleIcon:"pf-v5-c-card__header-toggle-icon",cardSelectableActions:"pf-v5-c-card__selectable-actions",cardSrInput:"pf-v5-c-card__sr-input",cardTitle:"pf-v5-c-card__title",cardTitleText:"pf-v5-c-card__title-text",check:"pf-v5-c-check",checkInput:"pf-v5-c-check__input",checkLabel:"pf-v5-c-check__label",dirRtl:"pf-v5-m-dir-rtl",divider:"pf-v5-c-divider",modifiers:{selectable:"pf-m-selectable",clickable:"pf-m-clickable",selected:"pf-m-selected",current:"pf-m-current",disabled:"pf-m-disabled",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill"},radio:"pf-v5-c-radio",radioInput:"pf-v5-c-radio__input",radioLabel:"pf-v5-c-radio__label",themeDark:"pf-v5-theme-dark"}}}]);
//# sourceMappingURL=159.d2501b52.min.js.map