"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([[813],{64361:(e,t,l)=>{l.d(t,{Z:()=>o});var a=l(34629),n=l(63696),r=l(62634),i=l(53141),s=l(17327);const o=e=>{var{children:t,className:l,component:o="div"}=e,c=(0,a.__rest)(e,["children","className","component"]);const{cardId:m,registerTitleId:d}=n.useContext(s.E),u=o,p=m?`${m}-title`:"";return n.useEffect((()=>(d(p),()=>d(""))),[d,p]),n.createElement("div",{className:(0,r.A)(i.A.cardTitle)},n.createElement(u,Object.assign({className:(0,r.A)(i.A.cardTitleText,l),id:p||void 0},c),t))};o.displayName="CardTitle"},23546:(e,t,l)=>{l.d(t,{o:()=>E});var a=l(34629),n=l(63696),r=l(96660),i=l(42577),s=l(62634),o=l(77635),c=l(891),m=l(85310),d=l(84632),u=l(44551),p=l(40066);class E extends n.Component{constructor(e){super(e),this.headingRef=n.createRef(),this.toggleCollapse=()=>{this.setState((e=>({isOpen:!e.isOpen,isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})))},this.state={isOpen:this.props.defaultIsOpen,isTooltipVisible:!1}}componentDidMount(){this.setState({isTooltipVisible:Boolean(this.headingRef.current&&this.headingRef.current.offsetWidth<this.headingRef.current.scrollWidth)})}renderLabel(e){const{categoryName:t,tooltipPosition:l}=this.props,{isTooltipVisible:a}=this.state;return a?n.createElement(m.m,{position:l,content:t},n.createElement("span",{tabIndex:0,ref:this.headingRef,className:(0,s.A)(r.A.labelGroupLabel)},n.createElement("span",{"aria-hidden":"true",id:e},t))):n.createElement("span",{ref:this.headingRef,className:(0,s.A)(r.A.labelGroupLabel),"aria-hidden":"true",id:e},t)}render(){const e=this.props,{categoryName:t,children:l,className:m,isClosable:E,isCompact:h,closeBtnAriaLabel:b,"aria-label":g,onClick:f,numLabels:v,expandedText:y,collapsedText:C,defaultIsOpen:T,tooltipPosition:N,isVertical:x,isEditable:A,hasEditableTextArea:P,editableTextAreaProps:I,addLabelControl:L}=e,w=(0,a.__rest)(e,["categoryName","children","className","isClosable","isCompact","closeBtnAriaLabel","aria-label","onClick","numLabels","expandedText","collapsedText","defaultIsOpen","tooltipPosition","isVertical","isEditable","hasEditableTextArea","editableTextAreaProps","addLabelControl"]),{isOpen:F}=this.state,_=n.Children.toArray(l),k=_.length,R=(0,u.ou)(C,{remaining:k-v}),S=e=>{const l=F?_:_.slice(0,v),a=n.createElement(n.Fragment,null,t&&this.renderLabel(e),n.createElement("ul",Object.assign({className:(0,s.A)(r.A.labelGroupList)},t&&{"aria-labelledby":e},!t&&{"aria-label":g},{role:"list"},w),l.map(((e,t)=>n.createElement("li",{className:(0,s.A)(r.A.labelGroupListItem),key:t},e))),k>v&&n.createElement("li",{className:(0,s.A)(r.A.labelGroupListItem)},n.createElement(c.J,{isOverflowLabel:!0,onClick:this.toggleCollapse,className:(0,s.A)(h&&i.A.modifiers.compact)},F?y:R)),L&&n.createElement("li",{className:(0,s.A)(r.A.labelGroupListItem)},L),A&&P&&n.createElement("li",{className:(0,s.A)(r.A.labelGroupListItem,r.A.modifiers.textarea)},n.createElement("textarea",Object.assign({className:(0,s.A)(r.A.labelGroupTextarea),rows:1,tabIndex:0},I))))),u=n.createElement("div",{className:(0,s.A)(r.A.labelGroupClose)},n.createElement(o.$n,{variant:"plain","aria-label":b,onClick:f,id:`remove_group_${e}`,"aria-labelledby":`remove_group_${e} ${e}`},n.createElement(d.Ay,{"aria-hidden":"true"})));return n.createElement("div",{className:(0,s.A)(r.A.labelGroup,m,t&&r.A.modifiers.category,x&&r.A.modifiers.vertical,A&&r.A.modifiers.editable)},n.createElement("div",{className:(0,s.A)(r.A.labelGroupMain)},a),E&&u)};return 0===k&&void 0===L?null:n.createElement(p.N,null,(e=>S(this.props.id||e)))}}E.displayName="LabelGroup",E.defaultProps={expandedText:"Show Less",collapsedText:"${remaining} more",categoryName:"",defaultIsOpen:!1,numLabels:3,isClosable:!1,isCompact:!1,onClick:e=>{},closeBtnAriaLabel:"Close label group",tooltipPosition:"top","aria-label":"Label group category",isVertical:!1,isEditable:!1,hasEditableTextArea:!1}},71743:(e,t,l)=>{l.d(t,{P:()=>p});var a=l(34629),n=l(63696);const r="pf-v5-c-truncate__end",i="pf-v5-c-truncate__start";var s,o=l(62634),c=l(85310),m=l(23993);!function(e){e.start="start",e.end="end",e.middle="middle"}(s||(s={}));const d={start:r,end:i},u=(e,t)=>[e.slice(0,e.length-t),e.slice(-t)],p=e=>{var{className:t,position:l="end",tooltipPosition:p="top",trailingNumChars:E=7,content:h}=e,b=(0,a.__rest)(e,["className","position","tooltipPosition","trailingNumChars","content"]);const[g,f]=n.useState(!0),[v,y]=n.useState(null),[C,T]=n.useState(null),N=n.useRef(null),x=n.useRef(null),A=n.useRef(null);n.useEffect((()=>{N&&N.current&&!C&&T(N.current),x&&x.current.parentElement.parentElement&&!v&&y(x.current.parentElement.parentElement)}),[N,x]),n.useEffect((()=>{if(C&&v&&!A.current){const e=((e,t,l)=>{const a=e.scrollWidth;return a/l.length*t+a})(C,E,h),t="middle"===l?e:C.scrollWidth,a=()=>{const e=(e=>{const t=getComputedStyle(e);return parseFloat(t.width)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRight)-parseFloat(t.borderLeft)})(v);f(t>=e)},n=(0,m.N)(v,a);return()=>{n()}}}),[C,v]);const P=n.createElement("span",Object.assign({ref:x,className:(0,o.A)("pf-v5-c-truncate",t)},b),(l===s.end||l===s.start)&&n.createElement("span",{ref:N,className:d[l]},h,l===s.start&&n.createElement(n.Fragment,null,"â€Ž")),l===s.middle&&h.slice(0,h.length-E).length>12&&n.createElement(n.Fragment,null,n.createElement("span",{ref:N,className:i},u(h,E)[0]),n.createElement("span",{className:r},u(h,E)[1])),l===s.middle&&h.slice(0,h.length-E).length<=12&&h);return g?n.createElement(c.m,{hidden:!g,position:p,content:h},P):P};p.displayName="Truncate"},14472:(e,t,l)=>{l.r(t),l.d(t,{default:()=>h});var a=l(63696),n=l(68430),r=l(1180),i=l(72785),s=l(14310),o=l(1159),c=l(20653),m=l(35048),d=l(4433),u=l(87043),p=l(1349);const E=({})=>{const{tableControls:e}=a.useContext(s.u),{propHelpers:{toolbarProps:t,filterToolbarProps:l,paginationToolbarItemProps:n,paginationProps:r}}=e;return a.createElement(c.M,{...t},a.createElement(m.P,null,a.createElement(u.Us,{...l}),a.createElement(d.T,{...n},a.createElement(p.n,{idPrefix:"vulnerability-table",isTop:!0,paginationProps:r}))))},h=()=>a.createElement(a.Fragment,null,a.createElement(n.d8,{variant:n.zC.light},a.createElement(r.n,null,a.createElement(i.E,{component:"h1"},"Vulnerabilities"))),a.createElement(n.d8,null,a.createElement("div",{style:{backgroundColor:"var(--pf-v5-global--BackgroundColor--100)"}},a.createElement(s.y,null,a.createElement(E,null),a.createElement(o.fk,null)))))},14310:(e,t,l)=>{l.d(t,{u:()=>c,y:()=>m});var a=l(63696),n=l(87043),r=l(86820),i=l(70611),s=l(5098),o=l(74932);const c=a.createContext({}),m=({children:e})=>{const t=(0,i.MM)({tableName:"vulnerability",persistenceKeyPrefix:r.rt.vulnerabilities,columnNames:{identifier:"Name",title:"Description",severity:"CVSS",published:"Published",packages:"Packages",sboms:"SBOMs"},isPaginationEnabled:!0,isSortEnabled:!0,sortableColumns:[],isFilterEnabled:!0,filterCategories:[{categoryKey:"",title:"Filter text",placeholderText:"Search",type:n.RJ.search},{categoryKey:"average_severity",title:"CVSS",placeholderText:"CVSS",type:n.RJ.multiselect,selectOptions:[{value:"none",label:"None"},{value:"low",label:"Low"},{value:"medium",label:"Medium"},{value:"high",label:"High"},{value:"critical",label:"Critical"}]}],isExpansionEnabled:!0,expandableVariant:"compound"}),{result:{data:l,total:m},isFetching:d,fetchError:u}=(0,o.WJ)((0,i.Ng)({...t,hubSortFieldKeys:{identifier:"identifier",severity:"average_score"}})),p=(0,i.PB)({...t,idProperty:"identifier",currentPageItems:l,totalItemCount:m,isLoading:d,selectionState:(0,s.$)({items:l,isEqual:(e,t)=>e.identifier===t.identifier})});return a.createElement(c.Provider,{value:{totalItemCount:m,isFetching:d,fetchError:u,tableControls:p}},e)}},1159:(e,t,l)=>{l.d(t,{fk:()=>k});var a=l(63696),n=l(49348),r=l(76072),i=l(97299),s=l(17327),o=l(64361),c=l(71603),m=l(65753),d=l(24974),u=l(21639),p=l(3939),E=l(85578),h=l(16646),b=l(31065),g=l(77819),f=l(28516),v=l(3629),y=l(62101),C=l(38139),T=l(24417),N=l(50705),x=l(52302),A=l(1349),P=l(62520),I=l(74932),L=l(34066),w=l(70400),F=l(65636),_=l(14310);const k=()=>{const{pushNotification:e}=a.useContext(N.K),{isFetching:t,fetchError:l,totalItemCount:T,tableControls:w}=a.useContext(_.u),F=(0,I.o5)((t=>{e({title:`The Vulnerability ${t.identifier} was deleted`,variant:"danger"})}),(t=>{e({title:"Error occurred while deleting the vulnerability",variant:"danger"})})),{numRenderedColumns:k,currentPageItems:K,propHelpers:{paginationProps:O,tableProps:G,getThProps:W,getTrProps:V,getTdProps:B,getExpandedContentTdProps:M},expansionDerivedState:{isCellExpanded:$}}=w;return a.createElement(a.Fragment,null,a.createElement(E.X,{...G,"aria-label":"Vulnerability table"},a.createElement(h.d,null,a.createElement(b.Tr,null,a.createElement(P.Ze,{...w},a.createElement(g.Th,{...W({columnKey:"identifier"})}),a.createElement(g.Th,{...W({columnKey:"title"})}),a.createElement(g.Th,{...W({columnKey:"severity"})}),a.createElement(g.Th,{...W({columnKey:"published"})}),a.createElement(g.Th,{...W({columnKey:"packages"})}),a.createElement(g.Th,{...W({columnKey:"sboms"})})))),a.createElement(P.nJ,{isLoading:t,isError:!!l,isNoData:0===T,numRenderedColumns:k},K.map(((e,t)=>a.createElement(f.N,{key:e.identifier,isExpanded:$(e)},a.createElement(b.Tr,{...V({item:e})},a.createElement(P.Oi,{...w,item:e,rowIndex:t},a.createElement(v.Td,{width:15,...B({columnKey:"identifier",isCompoundExpandToggle:!0,item:e,rowIndex:t})},a.createElement(n.k2,{to:`/vulnerabilities/${e.identifier}`},e.identifier)),a.createElement(v.Td,{width:45,modifier:"truncate",...B({columnKey:"title"})},e.title||e.description),a.createElement(v.Td,{width:10,...B({columnKey:"severity"})},e.average_severity&&a.createElement(x.h,{value:e.average_severity})),a.createElement(v.Td,{width:10,...B({columnKey:"published"})},(0,L.Yq)(e.published)),a.createElement(v.Td,{width:10,modifier:"truncate",...B({columnKey:"packages",isCompoundExpandToggle:!0,item:e,rowIndex:t})},"Packages"),a.createElement(v.Td,{width:10,modifier:"truncate",...B({columnKey:"sboms",isCompoundExpandToggle:!0,item:e,rowIndex:t})},"SBOMs"),a.createElement(v.Td,{isActionCell:!0},a.createElement(y.G,{items:[{title:"Delete",onClick:()=>F.mutate(e.identifier)}]})))),$(e)?a.createElement(b.Tr,{isExpanded:!0},a.createElement(v.Td,{...M({item:e})},a.createElement(C.g,null,a.createElement("div",{className:"pf-v5-u-m-md"},$(e,"identifier")?a.createElement(a.Fragment,null,a.createElement(r.x,{hasGutter:!0},a.createElement(i.E,{md:8},a.createElement(s.Z,{isFullHeight:!0,isCompact:!0},a.createElement(o.Z,null,"General view"),a.createElement(c.b,null,a.createElement(m.B,{columnModifier:{default:"2Col"}},a.createElement(d.W,null,a.createElement(u.X,null,"Published"),a.createElement(p.d,null,(0,L.Yq)(e.published))),a.createElement(d.W,null,a.createElement(u.X,null,"Modified"),a.createElement(p.d,null,(0,L.Yq)(e.modified))),a.createElement(d.W,null,a.createElement(u.X,null,"Released"),a.createElement(p.d,null,(0,L.Yq)(e.released))),a.createElement(d.W,null,a.createElement(u.X,null,"Withdrawn"),a.createElement(p.d,null,(0,L.Yq)(e.withdrawn))))))),a.createElement(i.E,{md:4},a.createElement(s.Z,{isFullHeight:!0,isCompact:!0},a.createElement(o.Z,null,"Additional info"),a.createElement(c.b,null,a.createElement(m.B,null,a.createElement(d.W,null,a.createElement(u.X,null,"CWE"),a.createElement(p.d,null,"item.cwe")),a.createElement(d.W,null,a.createElement(u.X,null,"Non normative"),a.createElement(p.d,null,e.normative?"Yes":"No")))))))):null,$(e,"packages")?a.createElement(a.Fragment,null,a.createElement(R,{vulnerabilityId:e.identifier})):null,$(e,"sboms")?a.createElement(a.Fragment,null,a.createElement(S,{vulnerabilityId:e.identifier})):null)))):null))))),a.createElement(A.n,{idPrefix:"vulnerability-table",isTop:!1,isCompact:!0,paginationProps:O}))},R=({vulnerabilityId:e})=>{const{vulnerability:t,isFetching:l,fetchError:n}=(0,I.uN)(e);return a.createElement(T.a,{isFetching:l,fetchError:n},a.createElement(w.n,{variant:"compact",initialItemsPerPage:5,advisories:t?.advisories??[]}))},S=({vulnerabilityId:e})=>{const{vulnerability:t,isFetching:l,fetchError:n}=(0,I.uN)(e);return a.createElement(T.a,{isFetching:l,fetchError:n},a.createElement(F.m,{variant:"compact",advisories:t?.advisories??[]}))}}}]);
//# sourceMappingURL=813.1511c86f.min.js.map