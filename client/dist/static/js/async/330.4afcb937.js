"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([["330"],{32947:function(e,a,n){n.d(a,{A0:()=>y,V4:()=>x,W:()=>f,nE:()=>g});var l=n(91566),t=n(839),r=n(73657),o=n(20644),s=n(89502),c=n(7596),i=n(1811),d=n(24917),p=n(4720),u=n(54178),h=n(37106),m=n(34313);let x={unknown:{name:"Unknown",color:i.P,progressProps:{variant:void 0},icon:l.M$},none:{name:"None",color:d.E,progressProps:{variant:void 0},icon:t.f6},low:{name:"Low",color:p.c,progressProps:{variant:void 0},icon:r._$},medium:{name:"Medium",color:u.L,progressProps:{variant:"warning"},icon:o.zI},high:{name:"High",color:h.H,progressProps:{variant:"danger"},icon:s.E2},critical:{name:"Critical",color:m.J,progressProps:{variant:"danger"},icon:c.ki}},v=e=>{switch(e){case"unknown":return 1;case"none":return 2;case"low":return 3;case"medium":return 4;case"high":return 5;case"critical":return 6;default:return 0}};function y(e){return(a,n)=>v(e(a))-v(e(n))}let f=e=>{let{key:a,value:n}=e;return"".concat(n?"".concat(a,"=").concat(n):"".concat(a))},g=e=>{let[a,n]=e.split("=");return{key:a,value:null!=n?n:""}}},7615:function(e,a,n){n.d(a,{g:()=>l});let l=e=>null!=e?e:"unknown"},87017:function(e,a,n){n.d(a,{Co:()=>h,Cu:()=>p,Hb:()=>u});var l=n(79192),t=n(53195),r=n(70233),o=n(74502);n(41947);let s="/api",c="".concat(s,"/v2/advisory"),i="".concat(s,"/v2/sbom"),d=e=>{let a="application/json";return e.name.endsWith(".bz2")&&(a="application/json+bzip2"),a},p=(e,a)=>{let n=e.get(o.TB);return r.Z.post("".concat(c),n,(0,t._)((0,l._)({},a),{headers:{"Content-Type":d(n)}}))},u=(e,a)=>{let n=e.get(o.TB);return r.Z.post("".concat(i),n,(0,t._)((0,l._)({},a),{headers:{"Content-Type":d(n)}}))},h=e=>r.Z.get("".concat(i,"/").concat(e,"/license-export"),{responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}})},24502:function(e,a,n){n.d(a,{M:()=>g});var l=n(24246),t=n(27378),r=n(27317),o=n(93095),s=n(54816),c=n(68802),i=n(31757),d=n(74607),p=n(70400),u=n(51088),h=n(58730),m=n(78700),x=n(63706),v=n(32947),y=n(40165);let f=e=>{let a=(0,v.W)(e);return{id:a,name:a}},g=e=>{let{title:a,value:n,isDisabled:g,onSave:j,onClose:b,options:w,onInputChange:_}=e,[T,C]=t.useState(Object.entries(n).map(e=>{let[a,n]=e;return f({key:a,value:n})}));return(0,l.jsxs)(r.K,{hasGutter:!0,children:[(0,l.jsx)(o.v,{children:"Labels help you organize and select resources. Adding labels below will let you query for objects that have similar, overlapping or dissimilar labels."}),(0,l.jsx)(o.v,{children:(0,l.jsx)(s.c,{label:(0,l.jsx)(c.V,{component:"h4",children:a}),children:(0,l.jsx)(i.Z,{children:(0,l.jsx)(d.e,{style:{padding:10,minHeight:10},defaultIsOpen:!0,numLabels:10,children:T.sort((e,a)=>(0,x.KF)(e.name).localeCompare((0,x.KF)(a.name))).map((e,a)=>(0,l.jsx)(p._,{color:"blue",onClose:()=>{let e=[...T];e.splice(a,1),C(e)},children:(0,x.KF)(e.labelName||e.name)},e.id))})})})}),(0,l.jsx)(o.v,{children:(0,l.jsxs)(u.l,{onSubmit:e=>e.preventDefault(),children:[(0,l.jsx)(y.F,{selections:T,options:w.map(e=>{let{key:a,value:n}=e;return f({key:a,value:n})}),onChange:C,placeholderText:"Add label",searchInputAriaLabel:"labels-select-toggle",onSearchChange:_,onCreateNewOption:e=>({id:e,name:e}),validateNewOption:e=>!!e&&e.trim().length>0&&/^(?!.*\\)(?!\s*\\)(?!\s*=)[^=\\\s][^=\\]*\s*=?\s*[^=\\]+$/.test(e),filterBeforeOnChange:(e,a)=>{let n=(0,v.nE)((0,x.KF)(a.name));return e.filter(e=>(0,v.nE)((0,x.KF)(e.name)).key!==n.key)}}),(0,l.jsxs)(h.W,{children:[(0,l.jsx)(m.zx,{type:"button",id:"submit","aria-label":"submit",variant:m.Wu.primary,isDisabled:g,onClick:()=>{j(T.map(e=>(0,v.nE)((0,x.KF)(e.name))).reduce((e,a)=>{let{key:n,value:l}=a;return e[n]=null!=l?l:"",e},{}))},children:"Save"}),(0,l.jsx)(m.zx,{type:"button",id:"cancel","aria-label":"cancel",variant:m.Wu.link,isDisabled:g,onClick:b,children:"Cancel"})]})]})})]})}},73827:function(e,a,n){n.d(a,{C:()=>c});var l=n(24246),t=n(74607),r=n(70400),o=n(85295),s=n(32947);let c=e=>{let{value:a,defaultIsOpen:n,onClick:c}=e;return(0,l.jsx)(t.e,{defaultIsOpen:n,numLabels:5,children:Object.entries(a).sort((e,a)=>{let[n]=e,[l]=a;return l.localeCompare(n)}).map(e=>{let[a,n]=e;return(0,l.jsx)(r._,{color:"blue",onClick:c?()=>c({key:a,value:n}):void 0,children:(0,l.jsx)(o.k,{content:(0,s.W)({key:a,value:n})})},a)})})}},57524:function(e,a,n){n.d(a,{o:()=>i});var l=n(24246),t=n(34747),r=n(46770),o=n(64766),s=n(2499),c=n(32947);let i=e=>{let{value:a,score:n,showScore:i,showLabel:d}=e,p=c.V4[a],u=p.name,h=p.icon;return(0,l.jsxs)(t.k,{spaceItems:{default:"spaceItemsXs"},alignItems:{default:"alignItemsCenter"},flexWrap:{default:"nowrap"},style:{whiteSpace:"nowrap"},children:[(0,l.jsx)(r.B,{children:d?(0,l.jsx)(o.J,{children:(0,l.jsx)(h,{color:p.color.value})}):(0,l.jsx)(s.u,{content:u,children:(0,l.jsx)(o.J,{children:(0,l.jsx)(h,{color:p.color.value})})})}),d&&(0,l.jsx)(r.B,{children:u}),i&&null!==n&&(0,l.jsxs)(r.B,{children:["(",Math.round(10*n)/10,")"]})]})}},3804:function(e,a,n){n.d(a,{p:()=>s});var l=n(79192),t=n(53195),r=n(24246),o=n(27230);let s=e=>{let{paginationProps:a,isTop:n,isCompact:s=!1,idPrefix:c=""}=e;return(0,r.jsx)(o.t,(0,t._)((0,l._)({id:"".concat(c?"".concat(c,"-"):"","pagination-").concat(n?"top":"bottom"),variant:n?o.a.top:o.a.bottom,isCompact:s},a),{widgetId:"pagination-id"}))}},39826:function(e,a,n){n.d(a,{y:()=>s});var l=n(24246),t=n(10707),r=n(16668),o=n(42160);let s=()=>(0,l.jsx)(t.ub,{status:"danger",headingLevel:"h4",titleText:"Unable to connect",icon:o.ZP,variant:t.IQ.sm,children:(0,l.jsx)(r.B,{children:"There was an error retrieving data. Check your connection and try again."})})},31336:function(e,a,n){n.d(a,{hp:()=>x,qK:()=>y,Cx:()=>g});var l=n(24246),t=n(8305),r=n(13754),o=n(31423),s=n(11165),c=n(94154),i=n(39826),d=n(10707),p=n(16668),u=n(22119);let h=e=>{let{title:a,description:n}=e;return(0,l.jsx)(d.ub,{titleText:a,headingLevel:"h4",icon:u.ZP,variant:d.IQ.sm,children:n&&(0,l.jsx)(p.B,{children:n})})},m=()=>(0,l.jsx)(h,{title:"No data available",description:"No data available to be shown here."}),x=e=>{let{numRenderedColumns:a,isLoading:n=!1,isError:d=!1,isNoData:p=!1,errorEmptyState:u=null,noDataEmptyState:h=null,children:x}=e;return(0,l.jsx)(l.Fragment,{children:n?(0,l.jsx)(o.p,{"aria-label":"Table loading",children:(0,l.jsx)(s.Tr,{children:(0,l.jsx)(c.Td,{colSpan:a,children:(0,l.jsx)(t.b,{children:(0,l.jsx)(r.$,{size:"xl"})})})})}):d?(0,l.jsx)(o.p,{"aria-label":"Table error",children:(0,l.jsx)(s.Tr,{children:(0,l.jsx)(c.Td,{colSpan:a,children:(0,l.jsx)(t.b,{children:u||(0,l.jsx)(i.y,{})})})})}):p?(0,l.jsx)(o.p,{"aria-label":"Table empty",children:(0,l.jsx)(s.Tr,{children:(0,l.jsx)(c.Td,{colSpan:a,children:(0,l.jsx)(t.b,{children:h||(0,l.jsx)(m,{})})})})}):x})};var v=n(89330);let y=e=>{let{numColumnsBeforeData:a,numColumnsAfterData:n,children:t}=e;return(0,l.jsxs)(l.Fragment,{children:[Array(a).fill(null).map((e,a)=>(0,l.jsx)(v.Th,{screenReaderText:"before-data-".concat(a)},a)),t,Array(n).fill(null).map((e,a)=>(0,l.jsx)(v.Th,{screenReaderText:"after-data-".concat(a)},a))]})};var f=n(79192);let g=e=>{let{isExpansionEnabled:a=!1,expandableVariant:n,getSelectCheckboxTdProps:t,propHelpers:{getSingleExpandButtonTdProps:r},item:o,rowIndex:s,children:i}=e;return(0,l.jsxs)(l.Fragment,{children:[a&&"single"===n?(0,l.jsx)(c.Td,(0,f._)({},r({item:o,rowIndex:s}))):null,t?(0,l.jsx)(c.Td,(0,f._)({},t({item:o,rowIndex:s}))):null,i]})}},73227:function(e,a,n){n.d(a,{i:()=>c});var l=n(2926),t=n(87017),r=n(50576),o=n(40371),s=n(63706);let c=()=>({downloadAdvisory:(e,a)=>{(0,o.Em)({client:r.L,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then(n=>{(0,l.saveAs)(new Blob([n.data]),a||"".concat(e,".json"))})},downloadSBOM:(e,a)=>{(0,o.XW)({client:r.L,path:{key:e},responseType:"arraybuffer",headers:{Accept:"text/plain",responseType:"blob"}}).then(n=>{(0,l.saveAs)(new Blob([n.data]),a||"".concat(e,".json"))})},downloadSBOMLicenses:e=>{(0,t.Co)(e).then(a=>{var n,t;let r=null,o=null==(t=a.headers)||null==(n=t["content-disposition"])?void 0:n.toString();o&&(r=(0,s.lj)(o)),(0,l.saveAs)(new Blob([a.data]),r||"".concat(e,".tar.gz"))})}})},95169:function(e,a,n){n.d(a,{V:()=>p});var l=n(79192),t=n(53195),r=n(27378),o=n(74502),s=n(70233);let c="cancelled",i=()=>({progress:0,status:"queued",error:void 0,response:void 0,wasCancelled:!1,cancelFn:void 0}),d=(e,a)=>{switch(a.type){case"queueUpload":return(0,t._)((0,l._)({},e),{uploads:new Map(e.uploads).set(a.payload.file,(0,t._)((0,l._)({},e.uploads.get(a.payload.file)||i()),{status:"queued",cancelFn:a.payload.cancelFn}))});case"updateUploadProgress":return(0,t._)((0,l._)({},e),{uploads:new Map(e.uploads).set(a.payload.file,(0,t._)((0,l._)({},e.uploads.get(a.payload.file)||i()),{progress:a.payload.progress||0,status:"inProgress"}))});case"finishUploadSuccessfully":return(0,t._)((0,l._)({},e),{uploads:new Map(e.uploads).set(a.payload.file,(0,t._)((0,l._)({},e.uploads.get(a.payload.file)||i()),{status:"complete",response:a.payload.response}))});case"finishUploadWithError":var n;return(0,t._)((0,l._)({},e),{uploads:new Map(e.uploads).set(a.payload.file,(0,t._)((0,l._)({},e.uploads.get(a.payload.file)||i()),{status:"complete",error:a.payload.error,wasCancelled:(null==(n=a.payload.error)?void 0:n.message)===c}))});case"removeUpload":{let n=new Map(e.uploads);return n.delete(a.payload.file),(0,t._)((0,l._)({},e),{uploads:n})}default:throw Error()}},p=e=>{let{parallel:a,uploadFn:n,onSuccess:l,onError:t}=e,[i,p]=r.useReducer(d,{uploads:new Map});return{uploads:i.uploads,handleUpload:e=>{let r=[];for(let a=0;a<e.length;a++){let n=e[a],i=new FormData;i.set(o.TB,n);let d=s.Z.CancelToken.source(),u={headers:{"X-Requested-With":"XMLHttpRequest"},onUploadProgress:e=>{var a;let l=null!=(a=e.total)?a:1;p({type:"updateUploadProgress",payload:{file:n,progress:Math.round(e.loaded/l*100)}})},cancelToken:d.token};p({type:"queueUpload",payload:{file:n,cancelFn:d}});let h={formData:i,config:u,thenFn:e=>{p({type:"finishUploadSuccessfully",payload:{file:n,response:e}}),l&&l(e,n)},catchFn:e=>{p({type:"finishUploadWithError",payload:{file:n,error:e}}),e.message!==c&&t&&t(e,n)}};r.push(h)}if(a)for(let e of r)n(e.formData,e.config).then(e.thenFn).catch(e.catchFn);else r.reduce(async(e,a)=>(await e,n(a.formData,a.config).then(a.thenFn).catch(a.catchFn)),Promise.resolve())},handleCancelUpload:e=>{var a,n;null==(n=i.uploads.get(e))||null==(a=n.cancelFn)||a.cancel(c)},handleRemoveUpload:e=>{p({type:"removeUpload",payload:{file:e}})}}}}}]);