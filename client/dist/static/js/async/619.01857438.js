"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([["619"],{47849:function(e,l,i){i.d(l,{F:()=>h,W:()=>p});var s=i(79192),t=i(53195),n=i(24246),r=i(27378),a=i(74502),o=i(32947),d=i(14629),u=i(49988),c=i(43959);let p=r.createContext({}),h=e=>{var l;let{children:i}=e,[h,m]=r.useState(""),[x,b]=r.useState("");r.useEffect(()=>{let e=setTimeout(()=>{b(h)},400);return()=>clearTimeout(e)},[h]);let{labels:_}=(0,c.i5)(x),j=(0,u.vZ)({tableName:"sbom",persistenceKeyPrefix:a.yq.sboms,persistTo:"urlParams",columnNames:{name:"Name",version:"Version",supplier:"Supplier",labels:"Labels",published:"Created on",packages:"Dependencies",vulnerabilities:"Vulnerabilities"},isPaginationEnabled:!0,isSortEnabled:!0,sortableColumns:["name","published"],isFilterEnabled:!0,filterCategories:[{categoryKey:a.L4,title:"Filter text",placeholderText:"Search",type:d.vA.search},{categoryKey:"published",title:"Created on",type:d.vA.dateRange},{categoryKey:"labels",title:"Label",type:d.vA.autocompleteLabel,placeholderText:"Filter results by label",selectOptions:_.map(e=>{let l=(0,o.W)({key:e.key,value:e.value});return{value:l,label:l}}),onInputValueChange:m}],isExpansionEnabled:!1}),{result:{data:y,total:f},isFetching:v,fetchError:T}=(0,c.Fz)((0,u.QO)((0,t._)((0,s._)({},j),{hubSortFieldKeys:{name:"name",published:"published"}})),(null!=(l=j.filterState.filterValues.labels)?l:[]).map(e=>(0,o.nE)(e))),C=(0,u.KC)((0,t._)((0,s._)({},j),{idProperty:"id",currentPageItems:y,totalItemCount:f,isLoading:v}));return(0,n.jsx)(p.Provider,{value:{totalItemCount:f,isFetching:v,fetchError:T,tableControls:C},children:i})}},68801:function(e,l,i){i.d(l,{H:()=>L});var s=i(79192),t=i(53195),n=i(24246),r=i(27378),a=i(65783),o=i(79551),d=i(32489),u=i(90519),c=i(4835),p=i(14350),h=i(11165),m=i(89330),x=i(31423),b=i(94154),_=i(88935),j=i(3804),y=i(31336),f=i(73227),v=i(63706),T=i(32947),C=i(73827),g=i(66043),K=i(11797),k=i(37818),E=i(42573),S=i(49304),w=i(82413);let P=e=>{let{sbomId:l}=e,{data:i,isFetching:s,fetchError:t}=(0,w.A)(l);return(0,n.jsx)(k.u,{isFetching:s,fetchError:t,isFetchingState:(0,n.jsx)(K.O,{screenreaderText:"Loading contents"}),fetchErrorState:e=>(0,n.jsx)(E.C,{error:e}),children:(0,n.jsx)(S.u,{severities:i.summary.vulnerabilityStatus.affected.severities})})};var F=i(47849);let L=()=>{let{isFetching:e,fetchError:l,totalItemCount:i,tableControls:K}=r.useContext(F.W),[k,E]=r.useState(null),S=null!==k,{numRenderedColumns:w,currentPageItems:L,propHelpers:{paginationProps:O,tableProps:W,getThProps:A,getTrProps:D,getTdProps:I},expansionDerivedState:{isCellExpanded:N},filterState:{filterValues:V,setFilterValues:H}}=K,{downloadSBOM:R,downloadSBOMLicenses:q}=(0,f.i)(),z=()=>{E(null)};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(c.i,(0,t._)((0,s._)({},W),{"aria-label":"sbom-table",children:[(0,n.jsx)(p.h,{children:(0,n.jsx)(h.Tr,{children:(0,n.jsxs)(y.qK,(0,t._)((0,s._)({},K),{children:[(0,n.jsx)(m.Th,(0,s._)({},A({columnKey:"name"}))),(0,n.jsx)(m.Th,(0,s._)({},A({columnKey:"version"}))),(0,n.jsx)(m.Th,(0,s._)({},A({columnKey:"supplier"}))),(0,n.jsx)(m.Th,(0,s._)({},A({columnKey:"labels"}))),(0,n.jsx)(m.Th,(0,s._)({},A({columnKey:"published"}))),(0,n.jsx)(m.Th,(0,s._)({},A({columnKey:"packages"}))),(0,n.jsx)(m.Th,(0,s._)({},A({columnKey:"vulnerabilities"})))]}))})}),(0,n.jsx)(y.hp,{isLoading:e,isError:!!l,isNoData:0===i,numRenderedColumns:w,children:L.map((e,l)=>(0,n.jsx)(x.p,{isExpanded:N(e),children:(0,n.jsx)(h.Tr,(0,t._)((0,s._)({},D({item:e})),{children:(0,n.jsxs)(y.Cx,(0,t._)((0,s._)({},K),{item:e,rowIndex:l,children:[(0,n.jsx)(b.Td,(0,t._)((0,s._)({width:20,modifier:"breakWord"},I({columnKey:"name",isCompoundExpandToggle:!0,item:e,rowIndex:l})),{children:(0,n.jsx)(a.OL,{to:"/sboms/".concat(e.id),children:e.name})})),(0,n.jsx)(b.Td,(0,t._)((0,s._)({width:10,modifier:"truncate"},I({columnKey:"version"})),{children:e.described_by.map(e=>e.version).filter(e=>e).join(", ")})),(0,n.jsx)(b.Td,(0,t._)((0,s._)({width:10,modifier:"truncate"},I({columnKey:"supplier"})),{children:e.suppliers.join(", ")})),(0,n.jsx)(b.Td,(0,t._)((0,s._)({width:20,modifier:"truncate"},I({columnKey:"labels"})),{children:(0,n.jsx)(C.C,{value:e.labels,onClick:e=>{let{key:l,value:i}=e,n=(0,T.W)({key:l,value:i}),r=V.labels;if(!(null==r?void 0:r.includes(n))){let e=r?[...r,n]:[n];H((0,t._)((0,s._)({},V),{labels:e}))}}})})),(0,n.jsx)(b.Td,(0,t._)((0,s._)({width:10,modifier:"truncate"},I({columnKey:"published"})),{children:(0,v.p6)(e.published)})),(0,n.jsx)(b.Td,(0,t._)((0,s._)({width:10},I({columnKey:"packages"})),{children:e.number_of_packages})),(0,n.jsx)(b.Td,(0,t._)((0,s._)({width:20},I({columnKey:"vulnerabilities"})),{children:(0,n.jsx)(P,{sbomId:e.id})})),(0,n.jsx)(b.Td,{isActionCell:!0,children:(0,n.jsx)(_.k,{items:[{title:"Edit labels",onClick:()=>{E(e)}},{isSeparator:!0},{title:"Download SBOM",onClick:()=>{R(e.id,"".concat(e.name,".json"))}},{title:"Download License Report",onClick:()=>{q(e.id)}}]})})]}))}))},e.id))})]})),(0,n.jsx)(j.p,{idPrefix:"sbom-table",isTop:!1,paginationProps:O}),(0,n.jsxs)(o.u,{isOpen:S,variant:"medium",onClose:z,children:[(0,n.jsx)(d.x,{title:"Edit labels"}),(0,n.jsx)(u.f,{children:k&&(0,n.jsx)(g._,{sbom:k,onClose:z})})]})]})}},83870:function(e,l,i){i.d(l,{c:()=>h});var s=i(79192),t=i(53195),n=i(24246),r=i(27378),a=i(70715),o=i(40982),d=i(89226),u=i(14629),c=i(3804),p=i(47849);let h=e=>{let{showFilters:l}=e,{tableControls:i}=r.useContext(p.W),{propHelpers:{toolbarProps:h,filterToolbarProps:m,paginationToolbarItemProps:x,paginationProps:b}}=i;return(0,n.jsx)(a.o,(0,t._)((0,s._)({},h),{"aria-label":"sbom-toolbar",children:(0,n.jsxs)(o.c,{children:[l&&(0,n.jsx)(u.Ki,(0,s._)({},m)),(0,n.jsx)(d.E,(0,t._)((0,s._)({},x),{children:(0,n.jsx)(c.p,{idPrefix:"sbom-table",isTop:!0,paginationProps:b})}))]})}))}}}]);