"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([["281"],{52673:function(e,r,s){s.d(r,{T:()=>n});var i=s(62540),t=s(71873);let n=e=>{let{title:r}=e,s=(0,t.A)().application.title,n=r?"".concat(r," | ").concat(s):s;return(0,i.jsx)("title",{children:n})}},90165:function(e,r,s){s.d(r,{h:()=>A});var i=s(32909),t=s(42642),n=s(62540),l=s(63696),o=s(72775),a=s(56129),c=s(13767),d=s(8406),p=s(99205),u=s(16681),x=s(81595),h=s(38927),j=s(80057),f=s(13021),g=s(94279),v=s(16172),m=s(56279),y=s(84608);let A=e=>{let{uploads:r,handleUpload:s,handleRemoveUpload:A,extractSuccessMessage:U,extractErrorMessage:_,fileUploadProps:T}=e,[b,C]=l.useState(!1),[E,S]=l.useState("inProgress"),[w,F]=l.useState([]);!b&&r.size>0&&C(!0),l.useEffect(()=>{let e=Array.from(r.values());e.some(e=>"inProgress"===e.status)?S("inProgress"):e.every(e=>"complete"===e.status)?S("success"):S("danger")},[r]);let k=Array.from(r.values()).filter(e=>e.response).length;return(0,n.jsxs)(o.w,(0,t._)((0,i._)({onFileDrop:(e,r)=>{s(r)},dropzoneProps:{accept:{"application/xml":[".json",".bz2"]},onDropRejected:e=>{F(e)},useFsAccessApi:!1}},T),{children:[(0,n.jsx)(a.x,{titleIcon:(0,n.jsx)(y.Ay,{}),titleText:"Drag and drop files here",titleTextSeparator:"or",infoText:"Accepted file types: .json, .bz2"}),b&&(0,n.jsx)(c.y,{statusToggleText:"".concat(k," of ").concat(r.size," files uploaded"),statusToggleIcon:E,children:Array.from(r.entries()).map((e,r)=>{let[s,i]=e;return(0,n.jsx)(d.L,{customFileHandler:()=>{},fileIcon:(0,n.jsx)(m.Ay,{}),file:s,onClearClick:()=>(e=>{for(let r of e)A(r)})([s]),progressValue:i.progress,progressVariant:i.error?"danger":i.response?"success":void 0,progressHelperText:i.error?(0,n.jsx)(p.E,{isLiveRegion:!0,children:(0,n.jsx)(u.j,{variant:"error",children:_(i.error)})}):100!==i.progress||i.response?i.response?(0,n.jsx)(p.E,{isLiveRegion:!0,children:(0,n.jsx)(u.j,{variant:"default",children:U(i.response)})}):void 0:(0,n.jsx)(p.E,{isLiveRegion:!0,children:(0,n.jsxs)(u.j,{variant:"warning",children:[(0,n.jsx)(x.y,{isInline:!0}),"File uploaded. Waiting for the server to process it."]})})},"".concat(s.name,"-").concat(r))})}),(0,n.jsxs)(h.a,{isOpen:w.length>0,"aria-label":"unsupported file upload attempted",onClose:()=>F([]),variant:"small",children:[(0,n.jsx)(j.r,{title:"Unsupported files",titleIconVariant:"warning"}),(0,n.jsx)(f.c,{children:(0,n.jsx)(g.B8,{children:w.map(e=>(0,n.jsx)(v.c,{children:e.file.name},e.file.name))})})]})]}))}},54006:function(e,r,s){s.r(r),s.d(r,{default:()=>x});var i=s(62540),t=s(74343),n=s(68430),l=s(98261),o=s(75530),a=s(42957),c=s(90165),d=s(99134),p=s(67458),u=s(52673);let x=()=>{let{uploads:e,handleUpload:r,handleRemoveUpload:s}=(0,d.Yu)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.T,{title:"Upload advisory"}),(0,i.jsx)(n.d8,{type:"breadcrumb",children:(0,i.jsxs)(l.Q,{children:[(0,i.jsx)(o.J,{children:(0,i.jsx)(t.N_,{to:p.Jh.advisories,children:"Advisories"})}),(0,i.jsx)(o.J,{isActive:!0,children:"Upload Advisory"})]})}),(0,i.jsx)(n.d8,{children:(0,i.jsxs)(a.U,{children:[(0,i.jsx)(a.U,{component:"h1",children:"Upload Advisory"}),(0,i.jsx)(a.U,{component:"p",children:"Upload a CSAF, CVE, or OSV Advisory."})]})}),(0,i.jsx)(n.d8,{children:(0,i.jsx)(c.h,{fileUploadProps:{"aria-label":"advisory-uploader"},uploads:e,handleUpload:r,handleRemoveUpload:s,extractSuccessMessage:e=>"".concat(e.data.document_id," uploaded"),extractErrorMessage:e=>{var r;return(null==(r=e.response)?void 0:r.data)?e.message:"Error while uploading file"}})})]})}}}]);