"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([["281"],{52673:function(e,s,r){r.d(s,{T:()=>n});var t=r(62540),i=r(71873);let n=e=>{let{title:s}=e,r=(0,i.A)().application.title,n=s?"".concat(s," | ").concat(r):r;return(0,t.jsx)("title",{children:n})}},90165:function(e,s,r){r.d(s,{h:()=>m});var t=r(62540),i=r(63696),n=r(72775),l=r(56129),o=r(13767),a=r(8406),c=r(99205),d=r(16681),p=r(81595),u=r(38927),x=r(80057),h=r(13021),j=r(94279),f=r(16172),g=r(56279),v=r(84608);let m=e=>{let{uploads:s,handleUpload:r,handleRemoveUpload:m,extractSuccessMessage:y,extractErrorMessage:A}=e,[U,T]=i.useState(!1),[_,b]=i.useState("inProgress"),[C,E]=i.useState([]);!U&&s.size>0&&T(!0),i.useEffect(()=>{let e=Array.from(s.values());e.some(e=>"inProgress"===e.status)?b("inProgress"):e.every(e=>"complete"===e.status)?b("success"):b("danger")},[s]);let S=Array.from(s.values()).filter(e=>e.response).length;return(0,t.jsxs)(n.w,{onFileDrop:(e,s)=>{r(s)},dropzoneProps:{accept:{"application/xml":[".json",".bz2"]},onDropRejected:e=>{E(e)},useFsAccessApi:!1},children:[(0,t.jsx)(l.x,{titleIcon:(0,t.jsx)(v.Ay,{}),titleText:"Drag and drop files here",titleTextSeparator:"or",infoText:"Accepted file types: .json, .bz2"}),U&&(0,t.jsx)(o.y,{statusToggleText:"".concat(S," of ").concat(s.size," files uploaded"),statusToggleIcon:_,children:Array.from(s.entries()).map((e,s)=>{let[r,i]=e;return(0,t.jsx)(a.L,{customFileHandler:()=>{},fileIcon:(0,t.jsx)(g.Ay,{}),file:r,onClearClick:()=>(e=>{for(let s of e)m(s)})([r]),progressValue:i.progress,progressVariant:i.error?"danger":i.response?"success":void 0,progressHelperText:i.error?(0,t.jsx)(c.E,{isLiveRegion:!0,children:(0,t.jsx)(d.j,{variant:"error",children:A(i.error)})}):100!==i.progress||i.response?i.response?(0,t.jsx)(c.E,{isLiveRegion:!0,children:(0,t.jsx)(d.j,{variant:"default",children:y(i.response)})}):void 0:(0,t.jsx)(c.E,{isLiveRegion:!0,children:(0,t.jsxs)(d.j,{variant:"warning",children:[(0,t.jsx)(p.y,{isInline:!0}),"File uploaded. Waiting for the server to process it."]})})},"".concat(r.name,"-").concat(s))})}),(0,t.jsxs)(u.a,{isOpen:C.length>0,"aria-label":"unsupported file upload attempted",onClose:()=>E([]),variant:"small",children:[(0,t.jsx)(x.r,{title:"Unsupported files",titleIconVariant:"warning"}),(0,t.jsx)(h.c,{children:(0,t.jsx)(j.B8,{children:C.map(e=>(0,t.jsx)(f.c,{children:e.file.name},e.file.name))})})]})]})}},54006:function(e,s,r){r.r(s),r.d(s,{default:()=>x});var t=r(62540),i=r(74343),n=r(68430),l=r(98261),o=r(75530),a=r(42957),c=r(90165),d=r(99134),p=r(67458),u=r(52673);let x=()=>{let{uploads:e,handleUpload:s,handleRemoveUpload:r}=(0,d.Yu)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.T,{title:"Upload advisory"}),(0,t.jsx)(n.d8,{type:"breadcrumb",children:(0,t.jsxs)(l.Q,{children:[(0,t.jsx)(o.J,{children:(0,t.jsx)(i.N_,{to:p.Jh.advisories,children:"Advisories"})}),(0,t.jsx)(o.J,{isActive:!0,children:"Upload Advisory"})]})}),(0,t.jsx)(n.d8,{children:(0,t.jsxs)(a.U,{children:[(0,t.jsx)(a.U,{component:"h1",children:"Upload Advisory"}),(0,t.jsx)(a.U,{component:"p",children:"Upload a CSAF, CVE, or OSV Advisory."})]})}),(0,t.jsx)(n.d8,{children:(0,t.jsx)(c.h,{uploads:e,handleUpload:s,handleRemoveUpload:r,extractSuccessMessage:e=>"".concat(e.data.document_id," uploaded"),extractErrorMessage:e=>{var s;return(null==(s=e.response)?void 0:s.data)?e.message:"Error while uploading file"}})})]})}}}]);