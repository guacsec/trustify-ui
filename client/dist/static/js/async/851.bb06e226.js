"use strict";(self.webpackChunk_trustify_ui_client=self.webpackChunk_trustify_ui_client||[]).push([["851"],{52673:function(e,s,r){r.d(s,{T:()=>a});var t=r(62540),n=r(71873);let a=e=>{let{title:s}=e,r=(0,n.A)().application.title,a=s?"".concat(s," | ").concat(r):r;return(0,t.jsx)("title",{children:a})}},90165:function(e,s,r){r.d(s,{h:()=>S});var t=r(32909),n=r(42642),a=r(62540),l=r(63696),i=r(72775),o=r(56129),c=r(13767),d=r(8406),p=r(99205),u=r(16681),x=r(81595),h=r(38927),j=r(80057),f=r(13021),g=r(94279),m=r(16172),v=r(56279),y=r(84608);let S=e=>{let{uploads:s,handleUpload:r,handleRemoveUpload:S,extractSuccessMessage:U,extractErrorMessage:b,fileUploadProps:A}=e,[_,T]=l.useState(!1),[M,w]=l.useState("inProgress"),[B,E]=l.useState([]);!_&&s.size>0&&T(!0),l.useEffect(()=>{let e=Array.from(s.values());e.some(e=>"inProgress"===e.status)?w("inProgress"):e.every(e=>"complete"===e.status)?w("success"):w("danger")},[s]);let P=Array.from(s.values()).filter(e=>e.response).length;return(0,a.jsxs)(i.w,(0,n._)((0,t._)({onFileDrop:(e,s)=>{r(s)},dropzoneProps:{accept:{"application/xml":[".json",".bz2"]},onDropRejected:e=>{E(e)},useFsAccessApi:!1}},A),{children:[(0,a.jsx)(o.x,{titleIcon:(0,a.jsx)(y.Ay,{}),titleText:"Drag and drop files here",titleTextSeparator:"or",infoText:"Accepted file types: .json, .bz2"}),_&&(0,a.jsx)(c.y,{statusToggleText:"".concat(P," of ").concat(s.size," files uploaded"),statusToggleIcon:M,children:Array.from(s.entries()).map((e,s)=>{let[r,t]=e;return(0,a.jsx)(d.L,{customFileHandler:()=>{},fileIcon:(0,a.jsx)(v.Ay,{}),file:r,onClearClick:()=>(e=>{for(let s of e)S(s)})([r]),progressValue:t.progress,progressVariant:t.error?"danger":t.response?"success":void 0,progressHelperText:t.error?(0,a.jsx)(p.E,{isLiveRegion:!0,children:(0,a.jsx)(u.j,{variant:"error",children:b(t.error)})}):100!==t.progress||t.response?t.response?(0,a.jsx)(p.E,{isLiveRegion:!0,children:(0,a.jsx)(u.j,{variant:"default",children:U(t.response)})}):void 0:(0,a.jsx)(p.E,{isLiveRegion:!0,children:(0,a.jsxs)(u.j,{variant:"warning",children:[(0,a.jsx)(x.y,{isInline:!0}),"File uploaded. Waiting for the server to process it."]})})},"".concat(r.name,"-").concat(s))})}),(0,a.jsxs)(h.a,{isOpen:B.length>0,"aria-label":"unsupported file upload attempted",onClose:()=>E([]),variant:"small",children:[(0,a.jsx)(j.r,{title:"Unsupported files",titleIconVariant:"warning"}),(0,a.jsx)(f.c,{children:(0,a.jsx)(g.B8,{children:B.map(e=>(0,a.jsx)(m.c,{children:e.file.name},e.file.name))})})]})]}))}},32804:function(e,s,r){r.r(s),r.d(s,{default:()=>x});var t=r(62540),n=r(74343),a=r(68430),l=r(98261),i=r(75530),o=r(42957),c=r(90165),d=r(30111),p=r(67458),u=r(52673);let x=()=>{let{uploads:e,handleUpload:s,handleRemoveUpload:r}=(0,d.sn)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.T,{title:"Upload SBOM"}),(0,t.jsx)(a.d8,{type:"breadcrumb",children:(0,t.jsxs)(l.Q,{children:[(0,t.jsx)(i.J,{children:(0,t.jsx)(n.N_,{to:p.Jh.sboms,children:"SBOMs"})}),(0,t.jsx)(i.J,{isActive:!0,children:"Upload SBOM"})]})}),(0,t.jsx)(a.d8,{children:(0,t.jsxs)(o.U,{children:[(0,t.jsx)(o.U,{component:"h1",children:"Upload SBOM"}),(0,t.jsx)(o.U,{component:"p",children:"Upload a Software Bill of Materials (SBOM) document. We accept CycloneDX versions 1.3, 1.4, 1.5 and 1.6, and System Package Data Exchange (SPDX) versions 2.2, and 2.3."})]})}),(0,t.jsx)(a.d8,{children:(0,t.jsx)(c.h,{fileUploadProps:{"aria-label":"sbom-uploader"},uploads:e,handleUpload:s,handleRemoveUpload:r,extractSuccessMessage:e=>"".concat(e.data.document_id," uploaded"),extractErrorMessage:e=>{var s;return(null==(s=e.response)?void 0:s.data)?e.message:"Error while uploading file"}})})]})}}}]);